<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Site</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/assets/style.css">
<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
  <header>
       <a href="/" class="header-flag-link" title="Home">
      <img src="/assets/home.png" alt="Home">
    </a>
      <a href="/deutsch/" class="header-flag-link" title="Deutsch">
      <img src="/assets/GerFlagSm.png" alt="Deutsch">
    </a>
    <a href="/espanol/" class="header-flag-link" title="Español">
      <img src="/assets/ESFlagSm.png" alt="Español">
    </a>
      <a href="/contact/" class="header-flag-link" title="Contact">
      <img src="/assets/contact.png" alt="Español">
    </a>
    
        <button id="theme-toggle-button" class="theme-toggle">
        Dark Mode
    </button>
      
  <button id="teleprompter-slower" class="teleprompter-control" aria-label="Decrease scroll speed">-</button>
  <button id="teleprompter-faster" class="teleprompter-control" aria-label="Increase scroll speed">+</button>
  </header>
<main>

  
  <article class="post">
    <h1>📚 Personal Website (11ty + Markdown)</h1>
<p>This is a static website built with <a href="https://www.11ty.dev/">Eleventy (11ty)</a>.<br>
All posts are written in Markdown and rendered into HTML using layouts and collections.</p>
<hr>
<p class="back-to-top"><a href="#toc-container">↑ Back to Top</a></p>
<h2 id="%F0%9F%9A%80-development" tabindex="-1">🚀 Development <a class="direct-link" href="#%F0%9F%9A%80-development" aria-hidden="true">#</a></h2>
<h3>Requirements</h3>
<ul>
<li><a href="https://nodejs.org/">Node.js</a> (v18+ recommended)</li>
<li>npm (comes with Node)</li>
</ul>
<h3>Install dependencies</h3>
<pre><code class="language-bash">npm install
</code></pre>
<h3>Run locally</h3>
<p>Start a dev server with live reload:</p>
<pre><code class="language-bash">npx @11ty/eleventy --serve
</code></pre>
<p>The site will be available at:<br>
👉 <a href="http://localhost:8081/">http://localhost:8081/</a></p>
<hr>
<p class="back-to-top"><a href="#toc-container">↑ Back to Top</a></p>
<h2 id="%F0%9F%93%82-project-structure" tabindex="-1">📂 Project Structure <a class="direct-link" href="#%F0%9F%93%82-project-structure" aria-hidden="true">#</a></h2>
<pre><code>site/
├── 2023/              # Posts by year/month/day
│   └── 07/01/emma.md
├── 2024/
│   └── ...
├── 2025/
│   └── ...
├── _includes/         # Layouts and templates
│   ├── base.njk       # Main site layout (header, footer, CSS)
│   └── post.njk       # Layout for individual posts (optional)
├── assets/            # Static assets (CSS, images, etc.)
│   └── style.css
├── index.njk          # Home page
├── deutsch.njk        # German category page
├── espanol.njk        # Spanish category page
├── contact.njk        # Contact page
├── impressum.njk      # Impressum (footer-only link)
├── .eleventy.js       # Eleventy config
└── package.json
</code></pre>
<hr>
<p class="back-to-top"><a href="#toc-container">↑ Back to Top</a></p>
<h2 id="%F0%9F%93%9D-adding-content" tabindex="-1">📝 Adding Content <a class="direct-link" href="#%F0%9F%93%9D-adding-content" aria-hidden="true">#</a></h2>
<h3>New Post</h3>
<ol>
<li>
<p>Create a new folder path under <code>YEAR/MONTH/DAY/</code> (e.g. <code>2025/09/07/</code>).</p>
</li>
<li>
<p>Add a Markdown file:</p>
<pre><code class="language-markdown">---
title: My New Article
date: 2025-09-07T10:00:00.000Z
featuredImage: assets/my-photo.png
metadata:
  categories:
    - kurzgeschichten
  tags:
    - fiction
    - ai
---

Your content goes here. Write in Markdown!
</code></pre>
</li>
<li>
<p>(Optional) Add images in the same folder:</p>
<pre><code>2025/09/07/assets/my-photo.png
</code></pre>
<p>and reference it with:</p>
<pre><code class="language-markdown">![Alt text](assets/my-photo.png)
</code></pre>
</li>
</ol>
<p>Posts are automatically picked up in <code>collections.posts</code> and sorted newest → oldest.<br>
Category filters (<code>deutsch</code>, <code>espanol</code>) depend on the <code>metadata.categories</code> front matter.</p>
<hr>
<p class="back-to-top"><a href="#toc-container">↑ Back to Top</a></p>
<h2 id="%F0%9F%8E%A8-styling" tabindex="-1">🎨 Styling <a class="direct-link" href="#%F0%9F%8E%A8-styling" aria-hidden="true">#</a></h2>
<ul>
<li>Main stylesheet: <code>assets/style.css</code></li>
<li>Linked from <code>base.njk</code>:<pre><code class="language-html">&lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/style.css&quot;&gt;
</code></pre>
</li>
<li>Global theme variables are defined in <code>:root</code> inside CSS.</li>
</ul>
<hr>
<p class="back-to-top"><a href="#toc-container">↑ Back to Top</a></p>
<h2 id="%F0%9F%8C%8D-special-pages" tabindex="-1">🌍 Special Pages <a class="direct-link" href="#%F0%9F%8C%8D-special-pages" aria-hidden="true">#</a></h2>
<ul>
<li><strong>Home (<code>/</code>)</strong>: Shows featured + recent posts + latest German/Spanish post.</li>
<li><strong>Deutsch (<code>/deutsch/</code>)</strong>: Lists posts tagged with <code>kurzgeschichten</code>.</li>
<li><strong>Español (<code>/espanol/</code>)</strong>: Lists posts tagged with <code>cuentas nuevos</code>.</li>
<li><strong>Contact (<code>/contact/</code>)</strong>: Contact info.</li>
<li><strong>Impressum (<code>/impressum/</code>)</strong>: Legal page, linked only in the footer.</li>
</ul>
<hr>
<p class="back-to-top"><a href="#toc-container">↑ Back to Top</a></p>
<h2 id="%F0%9F%93%A6-build-%26-deploy" tabindex="-1">📦 Build &amp; Deploy <a class="direct-link" href="#%F0%9F%93%A6-build-%26-deploy" aria-hidden="true">#</a></h2>
<p>Build static output to <code>_site/</code>:</p>
<pre><code class="language-bash">npx @11ty/eleventy
</code></pre>
<p>Contents of <code>_site/</code> can be deployed anywhere (e.g. GitHub Pages, Netlify, Vercel).</p>
<hr>
<p class="back-to-top"><a href="#toc-container">↑ Back to Top</a></p>
<h2 id="%F0%9F%9B%A0%EF%B8%8F-tips" tabindex="-1">🛠️ Tips <a class="direct-link" href="#%F0%9F%9B%A0%EF%B8%8F-tips" aria-hidden="true">#</a></h2>
<ul>
<li>Default layout for posts is <code>_includes/base.njk</code>, configured in <code>.eleventy.js</code>.</li>
<li>To change how posts render, create <code>_includes/post.njk</code> and set:<pre><code class="language-yaml">layout: post
</code></pre>
in a post’s front matter.</li>
<li>Use Google Fonts by editing <code>assets/style.css</code>.</li>
<li>Add new navigation links in <code>_includes/base.njk</code>.</li>
</ul>
<hr>
<p>✍️ Happy writing!</p>
<p>Of course. This is an excellent use case for the same technique. You can create a robust, free commenting and rating system for your static 11ty blog. Here is a complete guide on how to implement it, including setting up the backend (Google Sheet and Form) and integrating the frontend code into your Eleventy project.</p>
<h3>Step 1: Set Up the Google Sheet and Google Form</h3>
<p>This is the &quot;database&quot; and &quot;API&quot; for your comment system.</p>
<ol>
<li>
<p><strong>Create a Google Sheet:</strong></p>
<ul>
<li>Create a new Google Sheet.</li>
<li>Name the columns in the first row exactly as follows: <code>Timestamp</code>, <code>PostID</code>, <code>Name</code>, <code>Rating</code>, <code>Comment</code>.</li>
<li>The <code>Timestamp</code> will be automatically filled in by the form. <code>PostID</code> will be a unique identifier for each blog post (we'll use the post's URL).</li>
</ul>
</li>
<li>
<p><strong>Create a Google Form:</strong></p>
<ul>
<li>From your Google Sheet, go to <strong>Tools &gt; Create a new form</strong>.</li>
<li>Your form will now be linked, and responses will automatically populate the sheet.</li>
<li>Add the following fields to your form:
<ul>
<li>A &quot;Short answer&quot; question titled <code>Name</code>.</li>
<li>A &quot;Paragraph&quot; question titled <code>Comment</code>.</li>
<li>A &quot;Multiple choice&quot; or &quot;Dropdown&quot; question titled <code>Rating</code> with options 1, 2, 3, 4, 5, 6.</li>
<li><strong>Crucially, add one more &quot;Short answer&quot; question and title it <code>PostID</code>.</strong> We will hide this field and populate it automatically.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Get the Form Submission URL and Field IDs:</strong></p>
<ul>
<li>Click the &quot;Send&quot; button on your form, go to the &quot;Send via link&quot; tab (🔗), and copy the link. It will look like this: <code>https://docs.google.com/forms/d/e/LONG_FORM_ID/viewform?usp=sf_link</code>.</li>
<li>Change <code>/viewform</code> at the end to <code>/formResponse</code>. This is your <code>formActionURL</code>.</li>
<li>To get the field IDs (<code>entry.XXXX</code>), preview the form (click the eye icon), right-click on the input fields, and select &quot;Inspect.&quot; Look for the <code>name</code> attribute of the <code>&lt;input&gt;</code> or <code>&lt;textarea&gt;</code> tag. It will be something like <code>entry.1234567890</code>. Record these for <code>Name</code>, <code>Comment</code>, <code>Rating</code>, and <code>PostID</code>.</li>
</ul>
</li>
<li>
<p><strong>Publish the Google Sheet to the Web:</strong></p>
<ul>
<li>In your Google Sheet, go to <strong>File &gt; Share &gt; Publish to web</strong>.</li>
<li>In the &quot;Link&quot; tab, choose the sheet with your comments.</li>
<li>Under &quot;Publish,&quot; select <strong>Comma-separated values (.csv)</strong>.</li>
<li>Click <strong>Publish</strong>.</li>
<li>Copy the generated URL. This is your <code>fetchURL</code> for reading the comments.</li>
</ul>
</li>
</ol>
<h3>Step 2: Create the JavaScript Logic (<code>comments.js</code>)</h3>
<p>Create a new file in your project at <code>/assets/js/comments.js</code>. This file will contain all the logic for fetching and submitting comments.</p>
<pre><code class="language-javascript">// assets/js/comments.js

document.addEventListener(&quot;DOMContentLoaded&quot;, () =&gt; {
  const commentsContainer = document.getElementById(&quot;comments-container&quot;);
  const commentForm = document.getElementById(&quot;comment-form&quot;);
  const postIDInput = document.getElementById(&quot;postID&quot;);

  // This should be a unique identifier for the blog post, like its URL.
  // We'll set this value from the Nunjucks template.
  const postID = postIDInput ? postIDInput.value : null;

  if (commentsContainer &amp;&amp; postID) {
    fetchAndDisplayComments(postID);
  }

  if (commentForm) {
    commentForm.addEventListener(&quot;submit&quot;, (e) =&gt; {
      e.preventDefault();
      submitComment();
    });
  }
});

/**
 * Fetches the comments from the published Google Sheet CSV.
 */
async function fetchAndDisplayComments(postID) {
  // --- PASTE YOUR PUBLISHED GOOGLE SHEET CSV URL HERE ---
  const fetchURL = &quot;https://docs.google.com/spreadsheets/d/e/YOUR_SHEET_ID/pub?output=csv&quot;;

  try {
    const response = await fetch(fetchURL);
    if (!response.ok) {
      throw new Error(&quot;Network response was not ok&quot;);
    }
    const csvText = await response.text();
    const comments = parseCSV(csvText);

    // Filter comments for the current post and display them
    const postComments = comments.filter(comment =&gt; comment.postID === postID);
    displayComments(postComments);

  } catch (error) {
    console.error(&quot;Failed to fetch or parse comments:&quot;, error);
    document.getElementById(&quot;comments-list&quot;).innerHTML = &quot;&lt;p&gt;Could not load comments.&lt;/p&gt;&quot;;
  }
}

/**
 * Parses the CSV text into an array of comment objects.
 * @param {string} csvText The raw CSV text data.
 * @returns {Array} An array of comment objects.
 */
function parseCSV(csvText) {
  const lines = csvText.trim().split(/\r?\n/);
  const headers = lines[0].split(&quot;,&quot;);
  // Find the correct index for each required column
  const postIDIndex = headers.indexOf(&quot;PostID&quot;);
  const nameIndex = headers.indexOf(&quot;Name&quot;);
  const ratingIndex = headers.indexOf(&quot;Rating&quot;);
  const commentIndex = headers.indexOf(&quot;Comment&quot;);
  const timestampIndex = headers.indexOf(&quot;Timestamp&quot;);

  return lines.slice(1).map(line =&gt; {
    const columns = line.match(/(&quot;.*?&quot;|[^&quot;,]+)(?=\s*,|\s*$)/g).map(col =&gt; col.replace(/&quot;/g, ''));
    return {
      postID: columns[postIDIndex],
      name: columns[nameIndex],
      rating: parseInt(columns[ratingIndex], 10),
      comment: columns[commentIndex],
      timestamp: columns[timestampIndex]
    };
  });
}

/**
 * Renders the comments and average rating to the page.
 * @param {Array} comments The array of comments for the current post.
 */
function displayComments(comments) {
  const commentsList = document.getElementById(&quot;comments-list&quot;);
  const averageRatingElem = document.getElementById(&quot;average-rating&quot;);
  
  if (comments.length === 0) {
    commentsList.innerHTML = &quot;&lt;p&gt;Be the first to leave a comment!&lt;/p&gt;&quot;;
    averageRatingElem.innerHTML = &quot;No ratings yet.&quot;;
    return;
  }

  // Calculate average rating
  const totalRating = comments.reduce((sum, comment) =&gt; sum + (comment.rating || 0), 0);
  const averageRating = (totalRating / comments.length).toFixed(1);
  averageRatingElem.innerHTML = `Average Rating: ${averageRating} / 6 ★ (${comments.length} reviews)`;

  // Display comments
  commentsList.innerHTML = comments.reverse().map(comment =&gt; `
    &lt;div class=&quot;comment&quot;&gt;
      &lt;p class=&quot;comment-meta&quot;&gt;
        &lt;strong&gt;${comment.name || 'Anonymous'}&lt;/strong&gt;
        &lt;span class=&quot;comment-rating&quot;&gt;${'★'.repeat(comment.rating || 0)}${'☆'.repeat(6 - (comment.rating || 0))}&lt;/span&gt;
      &lt;/p&gt;
      &lt;p&gt;${comment.comment || ''}&lt;/p&gt;
    &lt;/div&gt;
  `).join('');
}


/**
 * Submits the form data to the Google Form.
 */
async function submitComment() {
  // --- PASTE YOUR GOOGLE FORM RESPONSE URL AND FIELD ENTRIES HERE ---
  const formActionURL = &quot;https://docs.google.com/forms/d/e/YOUR_FORM_ID/formResponse&quot;;
  const nameEntry = &quot;entry.YOUR_NAME_ID&quot;;
  const commentEntry = &quot;entry.YOUR_COMMENT_ID&quot;;
  const ratingEntry = &quot;entry.YOUR_RATING_ID&quot;;
  const postIDEntry = &quot;entry.YOUR_POSTID_ID&quot;;

  const form = document.getElementById(&quot;comment-form&quot;);
  const formData = new FormData();

  formData.append(postIDEntry, form.elements[&quot;postID&quot;].value);
  formData.append(nameEntry, form.elements[&quot;name&quot;].value);
  formData.append(commentEntry, form.elements[&quot;comment&quot;].value);
  formData.append(ratingEntry, form.elements[&quot;rating&quot;].value);

  try {
    const response = await fetch(formActionURL, {
      method: &quot;POST&quot;,
      mode: &quot;no-cors&quot;,
      body: formData,
    });
    // Handle success
    alert(&quot;Thank you! Your comment has been submitted.&quot;);
    form.reset();
    // Optionally, refresh comments after a short delay
    setTimeout(() =&gt; fetchAndDisplayComments(form.elements[&quot;postID&quot;].value), 1000);
  } catch (error) {
    console.error(&quot;Error submitting form:&quot;, error);
    alert(&quot;There was an error submitting your comment. Please try again.&quot;);
  }
}
</code></pre>
<h3>Step 3: Integrate into Your Eleventy Templates</h3>
<p>Now, let's add the necessary HTML and script includes to your templates.</p>
<ol>
<li>
<p><strong>Modify <code>base.njk</code>:</strong><br>
Add the <code>comments.js</code> script at the bottom of your <code>&lt;body&gt;</code> tag, right after your other scripts.</p>
<pre><code class="language-html">
    &lt;script src=&quot;/assets/js/theme-switcher.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;/assets/js/teleprompter.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;/assets/js/comments.js&quot;&gt;&lt;/script&gt; 
  &lt;/main&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
</li>
<li>
<p><strong>Create a Reusable <code>comments.njk</code> Partial:</strong><br>
It's best practice to put the comment section in its own file. Create <code>_includes/comments.njk</code>:</p>
<pre><code class="language-html">
&lt;div id=&quot;comments-section&quot;&gt;
  &lt;h2&gt;Comments &amp; Ratings&lt;/h2&gt;

  &lt;!-- Display fetched comments and average rating --&gt;
  &lt;div id=&quot;comments-container&quot;&gt;
    &lt;div id=&quot;average-rating&quot;&gt;Loading ratings...&lt;/div&gt;
    &lt;div id=&quot;comments-list&quot;&gt;&lt;p&gt;Loading comments...&lt;/p&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;!-- Comment submission form --&gt;
  &lt;form id=&quot;comment-form&quot;&gt;
    &lt;h3&gt;Leave a Comment&lt;/h3&gt;
    
    &lt;!-- Hidden input to identify the blog post --&gt;
    &lt;input type=&quot;hidden&quot; id=&quot;postID&quot; name=&quot;postID&quot; value=&quot;/README/&quot;&gt;

    &lt;div class=&quot;form-group&quot;&gt;
      &lt;label for=&quot;name&quot;&gt;Name:&lt;/label&gt;
      &lt;input type=&quot;text&quot; id=&quot;name&quot; name=&quot;name&quot; required&gt;
    &lt;/div&gt;

    &lt;div class=&quot;form-group&quot;&gt;
      &lt;label for=&quot;rating&quot;&gt;Rating (1-6 stars):&lt;/label&gt;
      &lt;select id=&quot;rating&quot; name=&quot;rating&quot; required&gt;
        &lt;option value=&quot;6&quot;&gt;6 ★★★★★★&lt;/option&gt;
        &lt;option value=&quot;5&quot;&gt;5 ★★★★★&lt;/option&gt;
        &lt;option value=&quot;4&quot;&gt;4 ★★★★&lt;/option&gt;
        &lt;option value=&quot;3&quot;&gt;3 ★★★&lt;/option&gt;
        &lt;option value=&quot;2&quot;&gt;2 ★★&lt;/option&gt;
        &lt;option value=&quot;1&quot;&gt;1 ★&lt;/option&gt;
      &lt;/select&gt;
    &lt;/div&gt;

    &lt;div class=&quot;form-group&quot;&gt;
      &lt;label for=&quot;comment&quot;&gt;Comment:&lt;/label&gt;
      &lt;textarea id=&quot;comment&quot; name=&quot;comment&quot; rows=&quot;4&quot;&gt;&lt;/textarea&gt;
    &lt;/div&gt;

    &lt;button type=&quot;submit&quot;&gt;Submit Comment&lt;/button&gt;
  &lt;/form&gt;
&lt;/div&gt;
</code></pre>
</li>
<li>
<p><strong>Include the Comments Partial in Your Post Layout:</strong><br>
You need a layout file that your blog posts use. If you don't have one, create <code>_includes/post.njk</code>. Then, in your <code>base.njk</code>, find where `` is and include the comments partial <em>only</em> if it's a blog post.</p>
<p>Modify the <code>article</code> tag in <code>base.njk</code>:</p>
<pre><code class="language-html">
&lt;article class=&quot;post&quot;&gt;
  
&lt;/article&gt;



</code></pre>
<p><em>This relies on the <code>isPost</code> computed property you already have in your <code>.eleventy.js</code> file, which is perfect!</em></p>
</li>
<li>
<p><strong>Add Some Basic CSS:</strong><br>
Add this to your <code>/assets/style.css</code> file to make the form look decent.</p>
<pre><code class="language-css">/* assets/style.css */
#comments-section {
  margin-top: 2rem;
  padding-top: 1rem;
  border-top: 1px solid #ccc;
}
.comment {
  border-bottom: 1px solid #eee;
  padding: 1rem 0;
}
.comment-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}
.comment-rating {
  color: #ffc107; /* gold */
}
#comment-form .form-group {
  margin-bottom: 1rem;
}
#comment-form label {
  display: block;
  margin-bottom: 0.25rem;
}
#comment-form input,
#comment-form select,
#comment-form textarea {
  width: 100%;
  padding: 0.5rem;
  border: 1px solid #ccc;
  border-radius: 4px;
}
</code></pre>
</li>
</ol>
<p>You have now successfully integrated a dynamic, serverless commenting and rating system into your static Eleventy blog.</p>

  </article>



  <footer>
   <h1>Fictionally Statement</h1>
<iframe src="https://drive.google.com/file/d/1v5g4XFYxyZgzMiNoWra7wkt_CfJj22nV/preview?" frameborder="0" width="90%" height="100" marginheight="0" marginwidth="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true">
</iframe>

   <p> 2024 Jeff Meridian. All Rights Reserved. Powered by Imagination and a few helpful robots.</p>
  <nav>
    <a href="/impressum/">Impressum</a>
  </nav>
</footer>
    <script src="/assets/js/theme-switcher.js"></script>
  <script src="/assets/js/teleprompter.js"></script>
   <script src="/assets/js/comments.js"></script>
</main>


</body>
</html>
