! version = 2.0
! global imgurl = https://jeffmeridian.pages.dev/games/agent-writer/assets/
! global otherimgurl = https://jeffmeridian.pages.dev/apps/assets/
! global oldimgurl = https://jeffmeridian.pages.dev/2025/06/26/assets/
// Explict keyword lists used in triggers below

// General Info

+ [*] jeff [*]
- Jeff Meridian, is an insider-outsider: he knows how the code works. He is also a writer and a game designer. <env oldimgurl>wolf-of-writing.png


+ [*] (what is|tell me about) [*] meridians mystery mill [*]
- Meridian's Mystery Mill is a distraction-free, hierarchical writing environment designed for long-form content creation. It focuses on structured document management, seamless export workflows, and deep focus tools.

+ [*] (what is|tell me about) [*] meridians mystery mill [*]
- Meridian's Mystery Mill is a distraction-free, hierarchical writing environment designed for long-form content creation. It focuses on structured document management, seamless export workflows, and deep focus tools.


+ [*]philosophy [*]
- The core philosophy of Meridian's Mystery Mill is to provide a distraction-free, hierarchical writing environment, focusing on structured document management rather than traditional note-taking.

// Key Features
+ [*] (features|binder|editor|epub|teleprompter|inspector|history|auto save|dark mode|scrivener|backup) [*]
- Meridian's Mystery Mill has many key features including a Binder for hierarchical organization, a Distraction-Free Editor with Teleprompter and Inspector modes, a History Manager (Undo/Redo), and Auto-Save to a local SQLite database.\n\nIt also supports Import/Export like Scrivener (.scrivx) imports, EPUB generation, and full JSON database backups. <env imgurl>editor-teleprompter.png 




+ [*] (binder|organization) [*]
- The Binder organizes your content into infinite nested Folders and Text documents. You can easily drag & drop to reorder and restructure your project. It also features global search and batch replace functionality.

+ [*] (editor|teleprompter|inspector|history|auto save) [*]
- The editing experience features a distraction-free mode, a Teleprompter for scrolling text, an Inspector to manage metadata (Status, Synopsis, Research Notes, Cover Image), a robust History Manager (Undo/Redo stack), and auto-save capabilities.

+ [*] (import|export|scrivener|epub|json backup) [*]
- For Import & Export, Meridian's Mystery Mill supports importing full Scrivener projects (.scrivx), exporting production-ready EPUB files directly from your project tree, and creating/restoring full JSON project backups.

// Tech Stack
+ [*] tech stack [*]
- The technology stack is simple and robust:\n- Backend: Node.js + Express\n- Database: SQLite3 (writing_app.db) for self-contained, fast storage.\n- Frontend: Vanilla JavaScript (ES6 Modules) and Vanilla CSS with dark/light mode.\nThere are no complex build steps or heavy frameworks!

// Installation & Deployment
+ [*] (install|installation|setup|deploy|deployment) [*]
- To install: run 'npm install', then initialize the database with 'node init_db.js' (or let it auto-initialize). Start the entire system using './start_app.sh'.\nFor deployment, use './resync_project.sh' to sync files to your server, then SSH in and run './start_app.sh'.

+ [*] start app [*]
- The start_app.sh script orchestrates the startup of all components: MCP File Server, Manager Agent, Eleventy, Tailscale Proxy, and the main Anti App (Express server). It handles graceful shutdowns automatically!

+ [*] resync_project [*]
- The resync_project.sh script is used for deployment. It syncs the project files from your local machine to the remote server.

// Multi-Agent MCP System
+ [*] (multi agent|mcp system|mcp) [*]
- The Multi-Agent MCP System is a modular, hub-and-spoke architecture based on the Model Context Protocol (JSON-RPC 2.0 over Stdio). It orchestrates multiple specific agents to handle browsing, files, and workflows, all controlled by a central Manager.

+ [*] (manager|webagent|model agent|file server|transcriber|agent) [*]
- The MCP System consists of several agents:\n- Manager (manager.py): The central orchestrator.\n- WebAgent (webagent_mpc.py): Handles Playwright testing, web browsing, and a self-healing test loop.\n- Model Agent (model-agent.py): Manages LLM models and context windows.\n- File Server (mcp_file_server.py): Provides sandboxed filesystem access.\n- Transcriber (transcriber.py): Uses MLX-Whisper for local audio transcription. <env otherimgurl>manager.png 

+ [*] (speech|speech api) [*]
- The chat agent can speak with adjustable speed and a large selection of male and female AI voices using the fast Kokoro engine. Toggle interactive mode to enable continuous voice conversation. Save your chat sessions for later reference. <env imgurl>manager-speech.png


// Story Wizard & Prose Generator
+ [*] (story wizard|wizard|prose generator|pulp density|heat index|anti looping|humanization|humanization protocol) [*]
- The Story Wizard is an AI-powered module for generating characters, chapters, and prose. It features a RAG-Powered Story Bible using ChromaDB to maintain consistency. It uses a Dual-Stage Generation pipeline: first generating 4 narrative beats, then expanding them into prose with a rolling context window.

+ [*] humanization protocol [*]
- The Humanization Protocol enforces constraints to prevent text from sounding like AI. It includes Emotional Suppression (subtle emotions), a Banned Words list (avoiding cliches), and Simile Restrictions (limiting 'like' or 'as').

+ [*] pulp density [*]
- The Pulp Density Protocol controls the ratio of narrative events to introspection. For example, it might dictate 55% action to 30% dialogue, prioritizing movement and tasks over static 'head-space' thinking.

+ [*] heat index [*]
- The Heat Index Protocol manages the 'temperature' of the scene, controlling levels of conflict, tension, or romance.

+ [*] anti looping [*]
- The Anti-Looping protocol prohibits repeating plans or recapping feelings. It ensures every paragraph provides new information or action, keeping the narrative 'scene-forward'.


// Plugins & Tools
+ [*] (plugin|plugins|tool|tools|content management|site publishing) [*]
- I have several **specialized plugin tools** for content management, document editing, and site publishing:\n\n
^ ## üìù **Eleventy Blog/Site Tools**\n
^ | Tool | Purpose |\n
^ |------|---------|\n
^ | `create_post` | Create a new blog post with frontmatter & template |\n
^ | `list_all_posts` | List all markdown posts in the site |\n
^ | `remove_post` | Delete a post by path |\n
^ | `publish_site` | Build the Eleventy site |\n
^ | `push_jeff` | Deploy the site to GitHub Pages |\n\n
^ ## üõ†Ô∏è **Build & Automation Plugins**\n
^ | Tool | Purpose |\n
^ |------|---------|\n
^ | `build_jeff` | Production-ready build (clean build + PDF generation) |\n
^ | `make_epub_jeff` | Generate EPUB files |\n
^ | `make_zines_jeff` | Execute zine generation plugin |\n
^ | `make_one_sheet_jeff` | Execute one-sheet generation plugin |\n
^ | `syncronize_project` | Execute project synchronization |\n
^ | `restart_speech` | Restart the Docker speech engine (Kokoro-FastAPI) |\n\n
^ ## üìÑ **Document Editor Plugins**\n
^ | Tool | Purpose |\n
^ |------|---------|\n
^ | `read_active_document` | Retrieve text from the active editor document |\n
^ | `edit_active_document` | Safely edit documents (highlight, search, append, clean styles) |\n
^ | `prose_stats` | Analyze prose statistics |\n\n
^ ## üéÆ **Story/Dashboard Tools**\n
^ | Tool | Purpose |\n
^ |------|---------|\n
^ | `generate_stories_dashboard` | Generate HTML dashboards from Story Wizard JSON files |\n\n
^ These plugins are designed for a **content publishing workflow** (likely an Eleventy-based blog). Would you like to use any of these, or would you prefer to use one of the general-purpose agents (web, file, model, etc.)?

// Fallbacks
+ [*] meridians mystery mill [*]
- Are you asking about Meridian's Mystery Mill? I can tell you about its core features, tech stack, installation, Multi-Agent MCP system, or the Story Wizard. Just ask! <env imgurl>editor-text.png
