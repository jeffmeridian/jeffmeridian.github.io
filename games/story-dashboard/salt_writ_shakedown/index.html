<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Site</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/assets/style.css">
<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
  <script>
    // Immediately apply theme to avoid flash
    const savedTheme = localStorage.getItem('theme') || 'dark';
    if (savedTheme === 'dark') {
      document.body.classList.add('dark-mode');
      document.body.classList.add('dark');
    }
  </script>
  <header>
       <a href="/" class="header-flag-link" title="Home">
      <img src="/assets/home.png" alt="Home">
    </a>
      <a href="/deutsch/" class="header-flag-link" title="Deutsch">
      <img src="/assets/GerFlagSm.png" alt="Deutsch">
    </a>
    <a href="/espanol/" class="header-flag-link" title="Español">
      <img src="/assets/ESFlagSm.png" alt="Español">
    </a>
      <a href="/contact/" class="header-flag-link" title="Contact">
      <img src="/assets/contact.png" alt="Español">
    </a>
    
        <button id="theme-toggle-button" class="theme-toggle">
        Dark Mode
    </button>
      
  <button id="teleprompter-slower" class="teleprompter-control" aria-label="Decrease scroll speed">-</button>
  <button id="teleprompter-faster" class="teleprompter-control" aria-label="Increase scroll speed">+</button>
  </header>
<main>

  
  <article class="post">
    
    <div class="epub-container">
      
      
      
    </div>
    <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Inter:wght@400;600;800&display=swap');

        :root {
            /* Base Colors */
            --sea-dark: #0f172a;
            --rust: #ea580c;
            --salt: #f8fafc;
            --ocean: #0369a1;
            
            /* Theme Variables (Default Dark) */
            --bg-main: #0f172a;
            --bg-pattern: rgba(255, 255, 255, 0.05);
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --glass-bg: rgba(15, 23, 42, 0.8);
            --glass-border: rgba(255, 255, 255, 0.1);
            --card-hover-border: var(--rust);
            --header-line: rgba(255, 255, 255, 0.1);
        }

        .light-mode {
            --bg-main: #f1f5f9;
            --bg-pattern: rgba(0, 0, 0, 0.05);
            --text-main: #0f172a;
            --text-muted: #334155;
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(0, 0, 0, 0.1);
            --header-line: rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-main);
            background-image: radial-gradient(circle at 2px 2px, var(--bg-pattern) 1px, transparent 0);
            background-size: 40px 40px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
        }

        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            transition: background 0.3s ease, border-color 0.3s ease;
        }

        .rust-border {
            border-left: 4px solid var(--rust);
        }

        .ocean-border {
            border-left: 4px solid var(--ocean);
        }

        .chapter-card:hover {
            transform: translateX(10px);
            border-color: var(--card-hover-border);
            transition: all 0.3s ease;
        }

        /* Text utility overrides for theme compatibility */
        .light-mode .text-slate-300 { color: #334155; }
        .light-mode .text-slate-400 { color: #475569; }
        .light-mode .text-slate-500 { color: #475569; }
        .light-mode .text-white { color: #0f172a; }
        .light-mode .text-red-100 { color: #0f172a; }
        .light-mode #banned-words span { color: #0f172a; }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-main);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--ocean);
            border-radius: 10px;
        }
    </style>
</head>

<body class="p-4 md:p-8">

    <div id="app" class="max-w-7xl mx-auto space-y-8 relative">
        
        <!-- Theme Toggle -->
        <button id="theme-toggle" class="fixed top-6 right-6 z-50 glass p-3 rounded-full hover:bg-white/10 transition-colors shadow-lg group">
            <!-- Sun Icon (Hidden in Dark) -->
            <svg id="sun-icon" class="hidden group-[.light-mode_&]:block w-5 h-5 text-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
            <!-- Moon Icon (Hidden in Light) -->
            <svg id="moon-icon" class="block group-[.light-mode_&]:hidden w-5 h-5 text-blue-300" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>

        <!-- Header -->
        <header
            class="border-b border-[var(--header-line)] pb-6 flex flex-col md:flex-row justify-between items-start md:items-end gap-4">
            <div>
                <div class="flex items-center gap-3 text-orange-500 mb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />
                    </svg>
                    <span class="mono text-xs uppercase tracking-widest font-bold">Project Archive</span>
                </div>
                <h1 class="text-4xl md:text-6xl font-extrabold tracking-tighter" id="title"></h1>
                <p class="text-[var(--text-muted)] mt-2 max-w-2xl text-lg italic" id="logline"></p>
            </div>
            <div class="text-right glass p-4 rounded-lg">
                <div class="text-xs uppercase text-[var(--text-muted)] font-bold mb-1">Genre & Pacing</div>
                <div id="genre" class="text-sm font-semibold"></div>
                <div id="pacing" class="text-xs text-orange-400 mt-1 italic"></div>
            </div>
        </header>

        <!-- Global Directive -->
        <section class="glass p-6 rounded-xl relative overflow-hidden">
            <div class="absolute top-0 right-0 p-4 opacity-10">
                <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 2v20M2 12h20" />
                    <path d="m16.2 7.8-8.4 8.4M7.8 7.8l8.4 8.4" />
                </svg>
            </div>
            <h2 class="text-xl font-bold mb-4 flex items-center gap-2">
                <span class="p-1 bg-white/10 rounded">01</span> Global System Directive
            </h2>
            <p id="global-directive"
                class="text-[var(--text-main)] leading-relaxed text-lg first-letter:text-4xl first-letter:font-bold first-letter:mr-1">
            </p>
        </section>

        <!-- The Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- Left: Structural & Heat Protocols -->
            <div class="lg:col-span-1 space-y-6">
                <div class="glass p-6 rounded-xl space-y-6">
                    <h3 class="text-orange-500 mono text-sm font-bold uppercase tracking-widest">Structural Specs</h3>

                    <!-- Ratio Visualizer -->
                    <div id="ratios" class="space-y-6">
                        <!-- Dynamic content here -->
                    </div>

                    <div class="pt-4 border-t border-white/10">
                        <h4 class="text-sm font-bold mb-2">The Rule of Rust</h4>
                        <p id="rule-of-rust" class="text-sm text-[var(--text-muted)] italic"></p>
                    </div>
                </div>

                <div class="glass p-6 rounded-xl space-y-4">
                    <h3 class="text-blue-400 mono text-sm font-bold uppercase tracking-widest">Internal Pulse</h3>
                    <p id="internal-pulse" class="text-sm text-[var(--text-muted)]"></p>
                    <div class="bg-blue-900/20 p-3 rounded text-xs border border-blue-500/30 text-blue-200"
                        id="humanization-note"></div>
                </div>

                <!-- Banned Words -->
                <div class="glass p-6 rounded-xl">
                    <h3 class="text-red-500 mono text-sm font-bold uppercase tracking-widest mb-4">Prohibited Vocabulary
                    </h3>
                    <div id="banned-words" class="flex flex-wrap gap-2"></div>
                </div>
            </div>

            <!-- Right: Characters and Chapter Timeline -->
            <div class="lg:col-span-2 space-y-8">
                <!-- Character Profiles -->
                <div id="characters" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Dynamic chars here -->
                </div>

                <!-- Plot Track -->
                <div class="space-y-4">
                    <h3 class="text-xl font-bold flex items-center gap-2">
                        <span class="p-1 bg-white/10 rounded">02</span> The Salt-Writ Sequence
                    </h3>
                    <div id="plot-timeline"
                        class="space-y-4 relative before:absolute before:left-4 before:top-0 before:bottom-0 before:w-px before:bg-white/10">
                        <!-- Chapters rendered here -->
                    </div>
                </div>
            </div>
        </div>

        <footer class="mt-20 py-10 border-t border-[var(--glass-border)] text-center text-[var(--text-muted)] text-xs mono uppercase">
            System Protocol Active: API-WorldBuilder-JSONArchitect-v1 | <span id="timestamp"></span>
        </footer>
    </div>

    <script>
        const data = {
  "project_metadata": {
    "project_name": "Salt-Writ Shakedown",
    "model": "API-WorldBuilder-JSONArchitect-v1",
    "genre": "Maritime caper thriller (near-future, analog tech)",
    "logline": "A disgraced hydrographer and a brass-souled tug captain race a privatized coast-guard syndicate to recover a stolen “salt ledger” that can reroute entire shipping lanes—and drown a city if misused.",
    "pacing_style": "Fast-cut scenes with hard turns, short breath pauses, and escalating constraints per chapter"
  },
  "global_system_directive": "This story follows Inez Marr, a hydrographer kicked out of the national chart office, as she’s pulled into a dockside chase for a stolen salt ledger—an outlaw map-credential etched by tidal chemists that can legally and physically redirect cargo traffic. When a privatized maritime security outfit led by Dax Kestrel seizes the ledger to extort ports and force a dangerous channel change, Inez teams up with tug captain Rourke Pal and salvage diver Junie Sato to steal it back. The hunt runs through fogbound breakwaters, floating data buoys, and a decommissioned lightship where the ledger’s final index is hidden. Inez must decide whether to expose the entire corrupt permitting system or use the ledger herself to prevent a catastrophic storm-surge funneling into her home harbor, culminating in a night run through razor shoals where every choice leaves a mark on the coastline and on her name.",
  "structural_directives": {
    "pulp_density_protocol": {
      "narrative_ratio": "25% Dialogue / 55% Action / 20% Interiority",
      "linguistic_meter": "Short clauses during pursuit; longer, technical sentences only when a decision hinges on a measurement or a hazard.",
      "the_rule_of_rust": "Every set-piece must include one failing tool, corroded fitting, or improvised repair that changes the plan; show the fix, the cost, and the new risk created."
    },
    "anti_looping_protocol": "No scene may repeat the same objective twice. Each chapter must introduce (1) a new physical constraint (weather, fuel, tide window, damaged gear), (2) a new piece of actionable information, and (3) a permanent consequence (lost ally, burned contact, injury, public exposure, destroyed evidence). If a conversation covers a point already stated, it must be cut or reframed with new leverage (a threat, a bribe, a confession, or a timed interruption).",
    "narrative_momentum": "Maintain a ticking tide-window: every chapter must specify what happens if the characters miss the next tide change or port clearance deadline. End each chapter on an irreversible commitment: a signature, a cut line, a fired flare, a broadcast, a sunk object, or a crossed boundary. At least once per chapter, force Inez to choose between accuracy (perfect data) and speed (survival), and lock in the outcome before moving on.",
    "heat_index_protocol": {
      "narrative_ratio": "35% Dialogue / 40% Action / 25% Interiority",
      "linguistic_meter": "Terse, loaded exchanges; interior lines as quick calculations and grudges, not speeches.",
      "the_chemistry_rhythm": "Friction through competence: attraction (or trust) only grows when someone proves skill under pressure; any tenderness must be interrupted by a practical task or threat within three lines."
    },
    "the_internal_pulse": "Inez’s narration runs on measurement-as-emotion: depth soundings, salinity gradients, and current vectors stand in for fear, regret, and desire. Let her think in numbers when she’s scared, then force her to admit what the numbers can’t solve.",
    "integrated_expertise": "Embed real-seeming hydrography, coastal engineering, tug operations, salvage diving, and port-permit bureaucracy. Use concrete terms (range markers, lead line, AIS spoofing, set and drift, scuppers, hawser load, squat effect). Explain only when it alters a decision in the moment."
  },
  "humanization_protocol": {
    "emotional_suppression": "Keep feelings compact and embodied: hands cramp on wet rope, throat tastes like diesel, hearing narrows to chain rattle. No abstract comfort. Confessions must cost leverage or time.",
    "banned_word_list": [
      "adventure",
      "although",
      "ancient",
      "ancients",
      "azure",
      "balanced",
      "beacon",
      "bittersweet",
      "breathe",
      "breathtaking",
      "cacophony",
      "cascade",
      "catalyst",
      "cinematic",
      "crescendo",
      "crimson",
      "crystalline",
      "dance",
      "delve",
      "destiny",
      "dreamlike",
      "echo",
      "echoes",
      "elegant",
      "embark",
      "enigmatic",
      "epiphany",
      "epic",
      "eternal",
      "ethereal",
      "existential dread",
      "fair",
      "fate",
      "gaze",
      "gilded",
      "gleam",
      "glimmer",
      "glow",
      "gossamer",
      "harbinger",
      "haunting",
      "heartfelt",
      "horizon",
      "however",
      "iconic",
      "ignite",
      "intertwined",
      "journey",
      "kaleidoscope",
      "labyrinth",
      "legend",
      "luminescent",
      "luminous",
      "lush",
      "masterpiece",
      "melancholy",
      "mellifluous",
      "moonlit",
      "mosaic",
      "myriad",
      "mysterious",
      "mystical",
      "mythic",
      "narrative",
      "objective",
      "obsidian",
      "odyssey",
      "ominous",
      "pinnacle",
      "poignant",
      "portal",
      "quests",
      "radiant",
      "realm",
      "resonance",
      "resonate",
      "resilience",
      "revelation",
      "ripples",
      "saga",
      "serendipity",
      "serene",
      "serpentine",
      "shadow",
      "shadows",
      "shimmer",
      "shimmering",
      "silken",
      "smoldering",
      "soul",
      "spark",
      "sparkle",
      "stark",
      "stirring",
      "suddenly",
      "sun-kissed",
      "sweeping",
      "symphony",
      "tapestry",
      "timeless",
      "tranquil",
      "unravel",
      "unfold",
      "velvet",
      "verdant",
      "vivid",
      "vortex",
      "weave",
      "whisper",
      "whispers",
      "crackled",
      "with teeth"
    ],
    "cliché_destruction": "No “one last job,” no chosen-one logic, no sudden inheritance, no villain monologues. Replace stock beats with procedural consequences: permits, tides, rope angles, surveillance blind spots, and public records that can’t be un-seen once released."
  },
  "character_profiles": {
    "protagonist_narrator": {
      "name": "Inez Marr",
      "voice": "Knife-clean, technical, with dry dock humor; she narrates like she’s writing a report she knows will be used against her.",
      "internal_monologue": "Calculations as self-defense: she counts seconds, meters, and degrees to avoid admitting she misses her father’s harbor and fears being wrong in public again.",
      "super_power": "Reads water like handwriting: from foam lines, silt color, and buoy tilt she can infer hidden currents, shoals, and recent vessel passages.",
      "mode": "Problem-solver under pressure; distrusts institutions; risks herself for the shoreline, not for approval"
    },
    "Antagonist": {
      "name": "Dax Kestrel",
      "voice": "Polished maritime-law cadence with a dock-boss sneer; speaks in contracts, penalties, and plausible deniability.",
      "internal_monologue": "Control is a commodity: if he can price a passage, he can own the future; compassion is only useful as a negotiation tactic.",
      "super_power": "Weaponizes bureaucracy: can freeze vessels, reroute inspections, and manufacture legal emergencies faster than anyone can appeal them.",
      "mode": "Predatory administrator; turns public safety language into private profit"
    },
    "Deuteragonist": {
      "name": "Rourke Pal",
      "voice": "Blunt, salt-stained pragmatist; jokes only when things are about to go bad.",
      "internal_monologue": "He trusts metal and momentum more than people; he’s tired of being the muscle for other people’s mistakes.",
      "super_power": "Tug intuition: can feel load shift and line strain before instruments register it, letting him maneuver in tight quarters without snapping gear.",
      "mode": "Protective contrarian; loyal once tested; allergic to speeches"
    },
    "Tritagonist": {
      "name": "Junie Sato",
      "voice": "Quick, bright, and exacting; asks questions like scalpels.",
      "internal_monologue": "Every dive is a bargain with panic; she keeps fear small by naming each step and never skipping checks.",
      "super_power": "Salvage memory: can reconstruct an accident from scrape patterns, bent fittings, and silt layering—turning wrecks into evidence.",
      "mode": "Methodical risk-taker; moral compass with sharp edges"
    }
  },
  "style_guide": {
    "sensory_rotation": "Rotate sensory anchors per scene: diesel tang on the tongue, wet hemp rope rash, foghorn Doppler wobble, grit of salt on lips, slap of chop against steel plating, click of a ratchet strap, radio squelch, buoy bell clank, cold seep through neoprene, sodium-bright glare off water at noon, harbor mud stink at low tide.",
    "advanced_rhetoric": "Use nautical comparisons tied to objects: thoughts like a misread range marker; lies like AIS ghosts; fear like a hawser singing under load; a decision like cutting a line you can’t splice at sea. Favor metonymy with tools (the lead line, the chart tube, the winch brake) standing in for authority and trust.",
    "atmospheric_cap": "No more than three atmosphere sentences in a row; atmosphere must either hide a threat, reveal a clue, or impede movement.",
    "injury_cooldown": "Injuries persist and alter choices: rope burn reduces grip; a bruised rib limits breath; ear squeeze affects balance. Track each injury in subsequent scenes via limitations, not reminders.",
    "the_second_look": "Every location gets a second pass with new information (different tide, different light, different access). On the second look, reveal what was functionally invisible the first time.",
    "visceral_impact": "Impacts are mechanical and bodily: knees hit steel, teeth chatter from cold shock, sinuses sting from brine, hands shake after adrenaline drop. Keep violence brief and consequence-heavy.",
    "environmental_friction": "Water fights plans: tides shift, fog eats distance, currents pin hulls, barnacles cut skin, decks pitch, wind steals shouted words, rain shorts connectors, salt jams hinges.",
    "physiological_tells": "Show stress via micro-signals: swallowing against nausea, jaw clicking, pupils tightening in glare, forearms trembling on a line, shallow breaths before a dive, voice thinning on radio when a lie lands."
  },
  "writing_instructions": {
    "do": [
      "Name the immediate goal at the start of each scene and show the first physical step toward it.",
      "Use technical detail only when it changes the plan within the next paragraph.",
      "Keep dialogue as negotiation: who wants what, what they’ll trade, what they’ll threaten.",
      "End scenes with a concrete new obstacle or irreversible choice.",
      "Let Inez be wrong at least once in a way that costs time or trust."
    ],
    "avoid": [
      "Repeating the same clue in different words",
      "Sudden competence with no setup",
      "Exposition dumps about the ledger or the port system",
      "Romanticizing corruption as “necessary”",
      "Neat rescues that erase earlier damage"
    ]
  },
  "chapters": [
    {
      "ch": "1",
      "title": "The Buoy That Lied",
      "synopsis": "During a midnight calibration run, Inez Marr finds a government buoy transmitting a false depth profile that would push freighters toward a new channel. She spots fresh tool marks and a branded zip-tie used by Kestrel Maritime Security. Before she can log the anomaly, men in gray rain gear cut her skiff loose from the pier; Rourke Pal shoves his tug between her and the pilings, buying seconds. Inez snatches a waterproof chart tube from the buoy service locker—inside is a thin ceramic strip etched with salt-reactive ink: the stolen salt ledger index, incomplete but real.",
      "stop": "Inez keys the harbor emergency frequency to report the fraud—then hears Dax Kestrel’s voice already on the channel, naming her as the saboteur, as spotlights swing onto her skiff."
    },
    {
      "ch": "2",
      "title": "Towline Politics",
      "synopsis": "Rourke drags Inez’s skiff into a maze of moored barges while Kestrel’s patrol boat throws wake to snap their lines. Junie Sato, finishing a salvage job nearby, recognizes the ceramic strip as part of a permitting credential used to authorize dredge cuts without public hearings. Inez proposes a trade: if Junie helps decode the strip, Inez will testify about the buoy fraud that got Junie blacklisted from municipal contracts. They triangulate the strip’s missing section to a decommissioned lightship used as a private archive by port lawyers.",
      "stop": "A patrol drone drops a magnetic tracker onto Rourke’s towline, and the winch brake starts screaming—if Rourke cuts the line, they lose the skiff; if he keeps it, they’ll be followed straight to the lightship."
    },
    {
      "ch": "3",
      "title": "Lightship Archive Heist",
      "synopsis": "They board the rusting lightship at slack tide, moving through damp corridors lined with locked cabinets and paper logs that smell of mold and ink. Inez uses foam lines and hull slap to time footsteps above, while Junie picks a seal on a filing locker without tripping the tamper strip. Inside: a register of “salt writs” tied to storm-surge modeling—legal documents that can force barrier gates to open under the guise of safety. Dax Kestrel arrives not with guns, but with a notarized seizure order and two port police who don’t ask questions.",
      "stop": "Kestrel offers Inez a deal over a recorder: sign a confession and he’ll keep her father’s home pier off the demolition list—Rourke’s hand hovers over the pen as the tide begins to turn."
    },
    {
      "ch": "4",
      "title": "Set and Drift",
      "synopsis": "They refuse, and the lightship becomes a chase in narrow passages: paper files tearing, padlocks clanging, boots slipping on algae. Junie takes a hard hit to the ribs escaping through a hatch and can’t fully inhale; Rourke hauls her across the deck while Inez dives into the hold to grab the ledger’s final index plate. She finds it bolted under a bench, surrounded by desiccant packs and a portable salinity bath used to reveal hidden clauses. Inez realizes the ledger doesn’t just authorize routes—it can redefine the storm-surge model feeding the city’s barrier system.",
      "stop": "Inez cracks the salinity bath and watches the hidden clause appear: at dawn, Kestrel can legally command the barrier gates to open for “pressure relief,” which will funnel the coming storm straight into her harbor."
    },
    {
      "ch": "5",
      "title": "Razor Shoals Run",
      "synopsis": "With hours before dawn, they race to the barrier control station via an unlit back channel that only works at a narrow tide height. Inez navigates by range lights and the feel of current on the hull while Rourke threads the tug through shoals that grind like teeth beneath them. Kestrel anticipates the route by freezing nearby docks and forcing civilian traffic into their path; he broadcasts an all-points bulletin painting Inez as a terrorist targeting flood defenses. At the station, the only way to override the legal command is to upload the ledger’s true model—along with proof it was falsified—into a public record feed that can’t be recalled.",
      "stop": "Inez starts the upload, and the console flashes a final warning: publishing the model will also expose her own past alteration of survey data—the act that got her fired—and will trigger an automatic audit with arrests."
    },
    {
      "ch": "6",
      "title": "Salt Writ, Paid in Full",
      "synopsis": "Inez lets the upload finish, choosing the harbor over her reputation. The barrier gates stay sealed as the storm surge hits, and the water stacks harmlessly against the outer works instead of pouring into the streets. Kestrel tries to pivot—claiming he uncovered Inez’s misconduct—until Junie releases her dive footage of Kestrel’s men re-bolting the lightship index plate and swapping buoy transmitters. Rourke uses the tug’s loudhailer to rally dockworkers who’ve been fined into silence for years; they block Kestrel’s patrol boat with barges and make the arrest unavoidable. In the aftermath, Inez is detained, but the audit also reinstates the chart office’s integrity program; her father’s pier survives as a designated community safe landing.",
      "stop": "In the final scene, Inez, out on bond, receives an unmarked ceramic strip in the mail—another salt ledger index, from a different coastline—proving the scheme is wider, and someone thinks she’s the only one stubborn enough to fight it."
    }
  ]
};

        // Initialize UI
        if(data.project_metadata) {
            document.getElementById('title').textContent = data.project_metadata.project_name || 'Untitled';
            document.getElementById('logline').textContent = data.project_metadata.logline || '';
            document.getElementById('genre').textContent = data.project_metadata.genre || 'Unknown Genre';
            document.getElementById('pacing').textContent = data.project_metadata.pacing_style || '';
        }
        
        if(data.global_system_directive) {
            document.getElementById('global-directive').textContent = data.global_system_directive;
        }
        
        if(data.structural_directives) {
            if(data.structural_directives.pulp_density_protocol) {
                 document.getElementById('rule-of-rust').textContent = data.structural_directives.pulp_density_protocol.the_rule_of_rust || '';
            }
            document.getElementById('internal-pulse').textContent = data.structural_directives.the_internal_pulse || '';
        }
        
        if(data.humanization_protocol) {
            document.getElementById('humanization-note').textContent = data.humanization_protocol.emotional_suppression || '';
        }
        
        document.getElementById('timestamp').textContent = new Date().toLocaleString();

        // Render Ratios
        const ratiosContainer = document.getElementById('ratios');
        const renderRatio = (title, ratioStr, color) => {
            if(!ratioStr) return;
            // Handle different separators if necessary, assuming " / " based on template
            // Also handle if ratioStr format is different from "25% Label / ..."
            try {
                const parts = ratioStr.split(' / ').map(p => {
                    const [val, label] = p.split('% ');
                    return { val: parseInt(val), label: label || '?' };
                });

                if(parts.length < 3) {
                     // Fill with dummy if needed or handle gracefully
                }
                
                // Safe access to parts indices
                const p0 = parts[0] || {val: 0, label: '-'};
                const p1 = parts[1] || {val: 0, label: '-'};
                const p2 = parts[2] || {val: 0, label: '-'};

                const html = `
                    <div class="space-y-2">
                        <div class="flex justify-between text-xs font-bold uppercase opacity-60">
                            <span>${title}</span>
                        </div>
                        <div class="h-3 w-full bg-white/5 rounded-full overflow-hidden flex">
                            <div style="width: ${p0.val}%" class="bg-blue-500 h-full border-r border-black/20" title="${p0.label}: ${p0.val}%"></div>
                            <div style="width: ${p1.val}%" class="bg-orange-500 h-full border-r border-black/20" title="${p1.label}: ${p1.val}%"></div>
                            <div style="width: ${p2.val}%" class="bg-emerald-500 h-full" title="${p2.label}: ${p2.val}%"></div>
                        </div>
                        <div class="flex gap-4 text-[10px] mono uppercase opacity-80">
                            <span class="flex items-center gap-1"><div class="w-2 h-2 bg-blue-500"></div> ${p0.label}</span>
                            <span class="flex items-center gap-1"><div class="w-2 h-2 bg-orange-500"></div> ${p1.label}</span>
                            <span class="flex items-center gap-1"><div class="w-2 h-2 bg-emerald-500"></div> ${p2.label}</span>
                        </div>
                    </div>
                `;
                ratiosContainer.innerHTML += html;
            } catch(e) {
                console.warn("Error rendering ratio:", e);
            }
        };

        if(data.structural_directives) {
            if(data.structural_directives.pulp_density_protocol) {
                renderRatio("Pulp Density Protocol", data.structural_directives.pulp_density_protocol.narrative_ratio);
            }
            if(data.structural_directives.heat_index_protocol) {
                renderRatio("Heat Index Protocol", data.structural_directives.heat_index_protocol.narrative_ratio);
            }
        }

        // Banned Words
        const bannedContainer = document.getElementById('banned-words');
        if(data.humanization_protocol && data.humanization_protocol.banned_word_list) {
            data.humanization_protocol.banned_word_list.forEach(word => {
                const span = document.createElement('span');
                span.className = 'px-2 py-1 bg-red-950/30 text-red-400 border border-red-900/50 rounded text-[10px] mono uppercase';
                span.textContent = word;
                bannedContainer.appendChild(span);
            });
        }

        // Characters
        const charContainer = document.getElementById('characters');
        if(data.character_profiles) {
            Object.entries(data.character_profiles).forEach(([key, char]) => {
                const isProtagonist = key === 'protagonist_narrator';
                const html = `
                    <div class="glass p-4 rounded-xl ${isProtagonist ? 'rust-border' : 'ocean-border'}">
                        <div class="text-[10px] mono text-[var(--text-muted)] mb-1 uppercase">${key.replace('_', ' ')}</div>
                        <div class="text-lg font-bold text-[var(--text-main)]">${char.name || 'Unnamed'}</div>
                        <div class="text-xs text-orange-400 font-bold mb-2">${char.role || 'Key Figure'}</div>
                        <div class="text-xs text-[var(--text-muted)] leading-relaxed mb-3">"${char.voice || ''}"</div>
                        <div class="bg-white/5 p-2 rounded text-[11px] border border-white/10 italic">
                            <span class="text-blue-400 font-bold uppercase mr-1">Signature:</span> ${char.super_power || ''}
                        </div>
                    </div>
                `;
                charContainer.innerHTML += html;
            });
        }

        // Chapters
        const chapterContainer = document.getElementById('plot-timeline');
        if(data.chapters) {
            data.chapters.forEach(ch => {
                const html = `
                    <div class="chapter-card relative pl-10 pb-8 last:pb-0">
                        <div class="absolute left-2.5 top-0 w-3 h-3 bg-orange-500 rounded-full border-2 border-sea-dark z-10"></div>
                        <div class="glass p-5 rounded-xl border-l-0">
                            <div class="flex justify-between items-center mb-2">
                                <span class="mono text-xs text-orange-500 font-bold">CHAPTER ${ch.ch}</span>
                                <span class="text-xs text-[var(--text-muted)]">Constraint: Active</span>
                            </div>
                            <h4 class="text-xl font-bold mb-2 text-[var(--text-main)] uppercase tracking-tight">${ch.title}</h4>
                            <p class="text-[var(--text-muted)] text-sm leading-relaxed mb-4">${ch.synopsis}</p>
                            <div class="bg-red-500/10 border-l-2 border-red-500 p-3 rounded-r">
                                <div class="text-[10px] mono font-bold text-red-400 uppercase mb-1 flex items-center gap-1">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>
                                    Irreversible Decision / Stop
                                </div>
                                <p class="text-sm text-red-100 italic">"${ch.stop}"</p>
                            </div>
                        </div>
                    </div>
                `;
                chapterContainer.innerHTML += html;
            });
        }

        // Theme Toggle Logic
        const toggleBtn = document.getElementById('theme-toggle');
        const sunIcon = document.getElementById('sun-icon');
        const moonIcon = document.getElementById('moon-icon');
        
        // Load preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            document.body.classList.add('light-mode');
        }

        toggleBtn.addEventListener('click', () => {
            const isLight = document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
        });
    </script>
</body>

</html>

  </article>



  <footer>
   <h1>Fictionally Statement</h1>


<!-- ============================================= -->
    <!-- === NEW CUSTOM AUDIO PLAYER STARTS HERE === -->
    <!-- ============================================= -->
    <div class="custom-audio-player">
      <audio id="audio-element" src="/assets/notice.mp3"></audio>

      <button class="play-pause-btn">
        <svg class="play-icon" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"/>
        </svg>
        <svg class="pause-icon" viewBox="0 0 24 24">
          <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
        </svg>
      </button>

      <div class="player-controls">
        <div class="progress-bar">
          <div class="progress"></div>
        </div>
        <div class="time-container">
          <span class="current-time">0:00</span> / <span class="total-time">0:00</span>
        </div>
      </div>
    </div>
    <!-- ============================================= -->
    <!-- ===   CUSTOM AUDIO PLAYER ENDS HERE     === -->
    <!-- ============================================= -->

   <p> 2024 Jeff Meridian. All Rights Reserved. Powered by Imagination and a few helpful robots.</p>
  <nav>
    <a href="/impressum/">Impressum</a>
  </nav>
</footer>
    <script src="/assets/js/theme-switcher.js"></script>
  <script src="/assets/js/teleprompter.js"></script>
   <script src="/assets/js/comments.js"></script>
   <script src="/assets/js/audio-player.js"></script>
</main>


</body>
</html>
