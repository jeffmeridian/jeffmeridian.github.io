<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Site</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/assets/style.css">
<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
  <script>
    // Immediately apply theme to avoid flash
    const savedTheme = localStorage.getItem('theme') || 'dark';
    if (savedTheme === 'dark') {
      document.body.classList.add('dark-mode');
    }
  </script>
  <header>
       <a href="/" class="header-flag-link" title="Home">
      <img src="/assets/home.png" alt="Home">
    </a>
      <a href="/deutsch/" class="header-flag-link" title="Deutsch">
      <img src="/assets/GerFlagSm.png" alt="Deutsch">
    </a>
    <a href="/espanol/" class="header-flag-link" title="Español">
      <img src="/assets/ESFlagSm.png" alt="Español">
    </a>
      <a href="/contact/" class="header-flag-link" title="Contact">
      <img src="/assets/contact.png" alt="Español">
    </a>
    
        <button id="theme-toggle-button" class="theme-toggle">
        Dark Mode
    </button>
      
  <button id="teleprompter-slower" class="teleprompter-control" aria-label="Decrease scroll speed">-</button>
  <button id="teleprompter-faster" class="teleprompter-control" aria-label="Increase scroll speed">+</button>
  </header>
<main>

  
  <article class="post">
    
    <div class="epub-container">
      
      
      
    </div>
    <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Inter:wght@400;600;800&display=swap');

        :root {
            /* Base Colors */
            --sea-dark: #0f172a;
            --rust: #ea580c;
            --salt: #f8fafc;
            --ocean: #0369a1;
            
            /* Theme Variables (Default Dark) */
            --bg-main: #0f172a;
            --bg-pattern: rgba(255, 255, 255, 0.05);
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --glass-bg: rgba(15, 23, 42, 0.8);
            --glass-border: rgba(255, 255, 255, 0.1);
            --card-hover-border: var(--rust);
            --header-line: rgba(255, 255, 255, 0.1);
        }

        .light-mode {
            --bg-main: #f1f5f9;
            --bg-pattern: rgba(0, 0, 0, 0.05);
            --text-main: #0f172a;
            --text-muted: #334155;
            --glass-bg: rgba(255, 255, 255, 0.7);
            --glass-border: rgba(0, 0, 0, 0.1);
            --header-line: rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-main);
            background-image: radial-gradient(circle at 2px 2px, var(--bg-pattern) 1px, transparent 0);
            background-size: 40px 40px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .mono {
            font-family: 'JetBrains Mono', monospace;
        }

        .glass {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            transition: background 0.3s ease, border-color 0.3s ease;
        }

        .rust-border {
            border-left: 4px solid var(--rust);
        }

        .ocean-border {
            border-left: 4px solid var(--ocean);
        }

        .chapter-card:hover {
            transform: translateX(10px);
            border-color: var(--card-hover-border);
            transition: all 0.3s ease;
        }

        /* Text utility overrides for theme compatibility */
        .light-mode .text-slate-300 { color: #334155; }
        .light-mode .text-slate-400 { color: #475569; }
        .light-mode .text-slate-500 { color: #475569; }
        .light-mode .text-white { color: #0f172a; }
        .light-mode .text-red-100 { color: #0f172a; }
        .light-mode #banned-words span { color: #0f172a; }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-main);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--ocean);
            border-radius: 10px;
        }
    </style>
</head>

<body class="p-4 md:p-8">

    <div id="app" class="max-w-7xl mx-auto space-y-8 relative">
        
        <!-- Theme Toggle -->
        <button id="theme-toggle" class="fixed top-6 right-6 z-50 glass p-3 rounded-full hover:bg-white/10 transition-colors shadow-lg group">
            <!-- Sun Icon (Hidden in Dark) -->
            <svg id="sun-icon" class="hidden group-[.light-mode_&]:block w-5 h-5 text-orange-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/></svg>
            <!-- Moon Icon (Hidden in Light) -->
            <svg id="moon-icon" class="block group-[.light-mode_&]:hidden w-5 h-5 text-blue-300" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        </button>

        <!-- Header -->
        <header
            class="border-b border-[var(--header-line)] pb-6 flex flex-col md:flex-row justify-between items-start md:items-end gap-4">
            <div>
                <div class="flex items-center gap-3 text-orange-500 mb-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10" />
                    </svg>
                    <span class="mono text-xs uppercase tracking-widest font-bold">Project Archive</span>
                </div>
                <h1 class="text-4xl md:text-6xl font-extrabold tracking-tighter" id="title"></h1>
                <p class="text-[var(--text-muted)] mt-2 max-w-2xl text-lg italic" id="logline"></p>
            </div>
            <div class="text-right glass p-4 rounded-lg">
                <div class="text-xs uppercase text-[var(--text-muted)] font-bold mb-1">Genre & Pacing</div>
                <div id="genre" class="text-sm font-semibold"></div>
                <div id="pacing" class="text-xs text-orange-400 mt-1 italic"></div>
            </div>
        </header>

        <!-- Global Directive -->
        <section class="glass p-6 rounded-xl relative overflow-hidden">
            <div class="absolute top-0 right-0 p-4 opacity-10">
                <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                    <circle cx="12" cy="12" r="10" />
                    <path d="M12 2v20M2 12h20" />
                    <path d="m16.2 7.8-8.4 8.4M7.8 7.8l8.4 8.4" />
                </svg>
            </div>
            <h2 class="text-xl font-bold mb-4 flex items-center gap-2">
                <span class="p-1 bg-white/10 rounded">01</span> Global System Directive
            </h2>
            <p id="global-directive"
                class="text-[var(--text-main)] leading-relaxed text-lg first-letter:text-4xl first-letter:font-bold first-letter:mr-1">
            </p>
        </section>

        <!-- The Grid -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

            <!-- Left: Structural & Heat Protocols -->
            <div class="lg:col-span-1 space-y-6">
                <div class="glass p-6 rounded-xl space-y-6">
                    <h3 class="text-orange-500 mono text-sm font-bold uppercase tracking-widest">Structural Specs</h3>

                    <!-- Ratio Visualizer -->
                    <div id="ratios" class="space-y-6">
                        <!-- Dynamic content here -->
                    </div>

                    <div class="pt-4 border-t border-white/10">
                        <h4 class="text-sm font-bold mb-2">The Rule of Rust</h4>
                        <p id="rule-of-rust" class="text-sm text-[var(--text-muted)] italic"></p>
                    </div>
                </div>

                <div class="glass p-6 rounded-xl space-y-4">
                    <h3 class="text-blue-400 mono text-sm font-bold uppercase tracking-widest">Internal Pulse</h3>
                    <p id="internal-pulse" class="text-sm text-[var(--text-muted)]"></p>
                    <div class="bg-blue-900/20 p-3 rounded text-xs border border-blue-500/30 text-blue-200"
                        id="humanization-note"></div>
                </div>

                <!-- Banned Words -->
                <div class="glass p-6 rounded-xl">
                    <h3 class="text-red-500 mono text-sm font-bold uppercase tracking-widest mb-4">Prohibited Vocabulary
                    </h3>
                    <div id="banned-words" class="flex flex-wrap gap-2"></div>
                </div>
            </div>

            <!-- Right: Characters and Chapter Timeline -->
            <div class="lg:col-span-2 space-y-8">
                <!-- Character Profiles -->
                <div id="characters" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Dynamic chars here -->
                </div>

                <!-- Plot Track -->
                <div class="space-y-4">
                    <h3 class="text-xl font-bold flex items-center gap-2">
                        <span class="p-1 bg-white/10 rounded">02</span> The Salt-Writ Sequence
                    </h3>
                    <div id="plot-timeline"
                        class="space-y-4 relative before:absolute before:left-4 before:top-0 before:bottom-0 before:w-px before:bg-white/10">
                        <!-- Chapters rendered here -->
                    </div>
                </div>
            </div>
        </div>

        <footer class="mt-20 py-10 border-t border-[var(--glass-border)] text-center text-[var(--text-muted)] text-xs mono uppercase">
            System Protocol Active: API-WorldBuilder-JSONArchitect-v1 | <span id="timestamp"></span>
        </footer>
    </div>

    <script>
        const data = {
  "project_metadata": {
    "project_name": "Silt Courier",
    "model": "gpt-4.1",
    "genre": "Dieselpunk River-Heist Thriller",
    "logline": "A debt-saddled river courier hijacks a floating casino to steal a city’s water-rights ledger before a dredge-baron weaponizes drought into a private empire.",
    "pacing_style": "Hard-cuts, short scenes, frequent reversals, clean cliff stops"
  },
  "global_system_directive": "This story follows Maris Quell, a mud-river courier with a busted compass and an unpaid debt, as she takes one last job through the delta: deliver a sealed satchel to a floating casino called the Glass Loon. Inside is evidence that dredge-baron Orlan Vex has been rewriting water-rights ledgers to starve rival towns and buy their land for scrap. When Maris learns the satchel is also a tracking bait meant to flush out a whistleblower, she flips the job into a heist—recruiting sly salvage-diver Ivo Renn and cagey pit-boss Selene Kade to steal the master ledger and broadcast it over the river’s pneumatic news horns. Vex responds by locking down the channels, bribing the harbor patrol, and turning the casino into a moving trap. Maris must navigate rusted turbines, bribed officers, and shifting loyalties while keeping the crew alive, then confront Vex aboard his dredge at the river’s choke-gate, where the true prize isn’t money but control of the pumps. In the end, Maris chooses to burn her own payoff to free the water schedule for every town on the siltline—at the cost of making herself the most hunted courier on the delta.",
  "structural_directives": {
    "pulp_density_protocol": {
      "narrative_ratio": "30% Dialogue / 55% Action / 15% Interiority",
      "linguistic_meter": "Short declarative lines. Verbs first. One sharp image per paragraph. No paragraph over 90 words during action.",
      "the_rule_of_rust": "Every set piece must feature one failing machine or corroded object that creates a problem (jammed winch, leaking fuel line, seized rivet) and forces a choice under time pressure."
    },
    "anti_looping_protocol": "No recap loops. Each scene must (1) introduce one new complication, (2) change a relationship status between Maris Quell and at least one named character, and (3) end with a concrete new objective. If a detail repeats, it must mutate: same object, new damage; same threat, higher cost; same plan, forced revision. Never restate the job terms after Chapter 1—only consequences and edits.",
    "narrative_momentum": "Use a countdown clock tied to the river schedule: six tide-bells until the choke-gate closes. Each chapter must burn at least one tide-bell and include a visible marker (horn blast, buoy light shift, pump-cycle thump). Every chapter must contain one irreversible action (a bridge burned, a ally exposed, a resource spent) so the story cannot return to an earlier state.",
    "heat_index_protocol": {
      "narrative_ratio": "45% Dialogue / 25% Action / 30% Interiority",
      "linguistic_meter": "Dialogue-driven tension with clipped subtext. Physical beats between lines (hands on cards, cigarette ash, wet sleeves). Avoid speeches; keep exchanges under 12 lines before an interruption.",
      "the_chemistry_rhythm": "Attraction is shown through tactics: bargaining, feints, withheld info. Each intimate beat must occur during a risk task (lockpicking, hiding, bleeding control) and must complicate the plan within the next page."
    },
    "the_internal_pulse": "Maris Quell’s inner voice must track three meters: debt (numbers, dates), thirst (dry mouth, cracked lips, ration checks), and trust (who holds what leverage). At least once per chapter, Maris must make a choice that reduces one meter while worsening another.",
    "integrated_expertise": "Ground the world through practical river-craft: tow-ropes, prop wash, sluice timing, hull plates, lock gates, brine corrosion, signal flags, pneumatic message horns, dice-house security, and dredge operations. Show expertise via problem-solving and tools, not exposition."
  },
  "humanization_protocol": {
    "emotional_suppression": "No tidy catharsis. Keep feelings as behavior: missed meals, snapped replies, hands that shake, eyes that won’t meet. When grief appears, cut it with a task or interruption within three sentences.",
    "banned_word_list": [
      "tapestry",
      "embark",
      "delve",
      "symphony",
      "beacon",
      "whisper",
      "glimmer",
      "shimmer",
      "sparkle",
      "labyrinth",
      "odyssey",
      "journey",
      "destiny",
      "fate",
      "eternal",
      "haunting",
      "enigmatic",
      "mysterious",
      "shadowy",
      "ominous",
      "ethereal",
      "serene",
      "melancholy",
      "poignant",
      "bittersweet",
      "heartfelt",
      "stirring",
      "resonance",
      "echo",
      "dance",
      "weave",
      "unravel",
      "unfold",
      "ignite",
      "catalyst",
      "revelation",
      "epiphany",
      "legend",
      "mythic",
      "timeless",
      "vivid",
      "lush",
      "cinematic",
      "elegant",
      "masterpiece"
    ],
    "cliché_destruction": "Ban stock lines and easy morals. No 'one last job' speeches, no villain monologues, no chosen-one framing, no instant loyalty. Replace clichés with transaction logic: what each person wants, what they can trade, what they will burn."
  },
  "character_profiles": {
    "protagonist_narrator": {
      "name": "Maris Quell",
      "voice": "Dry, fast, observant; counts costs mid-sentence; humor like a knife used for rope.",
      "internal_monologue": "Everything is inventory: fuel, favors, minutes, skin. She notices pressure changes, patrol patterns, and who drinks water without measuring it.",
      "super_power": "Route-sense: can infer hidden movement paths by reading wake patterns, silt color, buoy drift, and engine pitch—turns terrain into a map in her head.",
      "mode": "Pragmatic protector with a gambler’s nerve; lies cleanly but hates owing anyone."
    },
    "Antagonist": {
      "name": "Orlan Vex",
      "voice": "Polished and legalistic; speaks in contracts and polite threats; never raises volume.",
      "internal_monologue": "He treats people as assets that either yield or get written off. He believes drought is a management tool, not a disaster.",
      "super_power": "Paper-coup: manipulates institutions through ledgers, liens, patrol permits, and supply chains; he wins by making resistance expensive and illegal.",
      "mode": "Control-first predator; prefers traps and incentives over bullets, until the pumps are at stake."
    },
    "Deuteragonist": {
      "name": "Ivo Renn",
      "voice": "Loose, charming, and sharp; jokes to test boundaries; turns quiet when calculating.",
      "internal_monologue": "He measures risk by oxygen and visibility. He trusts gear more than people, except when people pay better.",
      "super_power": "Salvage intuition: can identify structural weak points and hidden compartments by touch and sound—hull plates tell him where secrets are bolted.",
      "mode": "Opportunist with a buried conscience; allergic to long promises, loyal in short bursts."
    },
    "Tritagonist": {
      "name": "Selene Kade",
      "voice": "Smooth, low, and directive; always sounds like she’s already seen the outcome.",
      "internal_monologue": "Security is theater. She watches hands, not faces. She keeps a private list of who panics and who plans.",
      "super_power": "Crowd-choreography: can steer rooms by controlling attention—lights, music cues, dealer rotations, and staged arguments to move bodies like furniture.",
      "mode": "Strategic fixer; will switch sides if the math changes, but keeps her word once paid in full."
    }
  },
  "style_guide": {
    "sensory_rotation": "Rotate senses by scene: (1) smell of diesel, river rot, wet rope; (2) sound of pneumatic horns, card shuffles, pump pistons, chain rattle; (3) texture of silt grit in teeth, oil on knuckles, damp wool; (4) taste of brackish water tablets, cheap gin, metal from a bitten lip; (5) sight cues: buoy lamps, floodlit decks, ledger ink sheen, rust flakes snowing off beams.",
    "advanced_rhetoric": "Use mechanical metaphors and river-craft comparisons: a lie as a slipping clutch, a relationship as a frayed tow-line, a room’s mood as pressure in a boiler. Employ zeugma once per chapter (one verb driving two mismatched objects) and one hard simile rooted in delta life (e.g., 'stubborn as a seized rivet').",
    "atmospheric_cap": "Keep description functional: environment must hinder, hide, or threaten. No scenic lingering beyond three sentences without an action beat.",
    "injury_cooldown": "Injuries persist and matter. If someone is cut, burned, or bruised, show reduced grip strength, slower climbing, or compromised breath in the next two scenes. No instant recovery.",
    "the_second_look": "Every introduced location gets a return glance that reveals a new hazard or advantage (a loose ladder, a blind camera angle, a warped door frame) to reward attention and enable later payoffs.",
    "visceral_impact": "Violence is messy and specific: slammed fingers, cracked teeth, rope burn, steam scalds, river sludge in wounds. Keep it short and consequential.",
    "environmental_friction": "Make movement costly: slippery planks, tilted decks, loud metal, poor sight lines in fog, suction near intake grates. Force characters to choose between speed and silence.",
    "physiological_tells": "Stress signals must be physical: jaw clench, swallowing clicks, sweaty palms on cards, pupils tightening under floodlights, tremor in a match hand, shallow breaths when pumps cycle."
  },
  "writing_instructions": {
    "do": [
      "Write with propulsive scene goals and immediate obstacles",
      "Let plans fail for concrete reasons tied to setting or character flaws",
      "Show competence through tools, timing, and tradecraft",
      "Keep dialogue transactional with subtext and interruptions",
      "Use tide-bells as chapter-level time pressure markers"
    ],
    "avoid": [
      "Explaining motives in speeches",
      "Coincidences that solve problems",
      "Perfect victories without losses",
      "Generic city descriptions without working details",
      "Using any word from banned_word_list"
    ]
  },
  "chapters": [
    {
      "ch": "1",
      "title": "The Satchel That Sinks",
      "synopsis": "Maris Quell runs night freight along the siltline, dodging patrol skiffs and counting her debt to a loan office that takes interest in water rations. She’s paid to deliver a sealed satchel to the Glass Loon, a floating casino moored where the delta forks. The handoff goes wrong when Maris notices the satchel’s weight shift like it’s rigged with a locator slug; a harbor officer recognizes her hull tag and tries to board. Maris chooses flight, cutting her tow-line and skimming into the casino’s shadow under floodlights, where a bouncer drags her inside before the patrol can see.",
      "stop": "Maris opens the satchel in a storage closet and finds a water-rights ledger page stamped with Orlan Vex’s permit seal—then hears the lock click from the outside."
    },
    {
      "ch": "2",
      "title": "Pit Boss in a White Jacket",
      "synopsis": "Selene Kade pulls Maris out of the closet, not to save her, but to keep the casino’s security clean. Selene explains the satchel is bait: someone has been leaking Vex’s forged schedules, and the Glass Loon is the net. Maris bargains for time by offering a better problem—she can steal the master ledger from the casino’s vault before Vex’s men arrive to collect. Selene agrees on a fee paid in water chits and demands proof Maris can move unseen. Maris recruits Ivo Renn from the underdeck dive cage after spotting his gear and the way he listens to the hull.",
      "stop": "Ivo taps the bulkhead, finds a hidden void behind the vault room, and says the only access is through an intake tunnel that floods on the next pump-cycle."
    },
    {
      "ch": "3",
      "title": "Intake Tunnel Gamble",
      "synopsis": "With one tide-bell burned, Maris, Ivo, and Selene time the intake tunnel during a maintenance lull. Ivo leads in a mask with a hand-crank rebreather, guiding Maris by touch as silt turns the water to black paste. Selene stays topside to run distraction: staged cheating at a high-stakes table draws guards and shifts cameras. In the tunnel, Maris finds the locator slug glued inside the satchel lining; she realizes Vex can track her wherever she goes unless she dumps it. She keeps it anyway, planning to use it as a false trail, but the pump-cycle thumps early—someone upstairs advanced the schedule.",
      "stop": "The intake gate slams halfway shut, pinning Maris’s pack strap as the water starts to surge."
    },
    {
      "ch": "4",
      "title": "Ledger Room, Loaded Dice",
      "synopsis": "Maris cuts free at the cost of losing her spare cartridges and comes up shaking, lungs raw. Selene’s distraction turns hot: a guard recognizes her as former harbor security, meaning Vex has a file on her too. Ivo finds the vault’s weak seam by listening to rivets sing under pressure; they slip into a cramped ledger room packed with stamped volumes and fuel-safe lamps. Instead of the master ledger, they find duplicates—decoys—while a fresh volume sits warm, ink not yet dry. Maris realizes Vex is onboard, updating entries in real time to match the chase, turning law into a moving target. Selene offers a brutal fix: steal the casino’s pneumatic horn codes and broadcast the forged schedules before Vex can counterfile them at the choke-gate office.",
      "stop": "A polite voice speaks behind them in the ledger room: Orlan Vex, hands clean, asking Maris to return what she took—while his guards lock the only door."
    },
    {
      "ch": "5",
      "title": "Choke-Gate Firebreak",
      "synopsis": "Vex offers Maris a contract: clear her debt, a new boat, and safe passage—if she hands over Selene and the whistleblower’s name. Maris stalls, then uses the locator slug as misdirection, tossing it into a guard’s pocket to scramble Vex’s tracking. The crew fights through the casino’s engine deck where rusted turbines throw heat and noise; Selene steers panicked patrons into a stampede that blocks armed men, while Ivo plants a salvage charge to jam the rudder chain. They break away in a skiff toward the choke-gate, but Vex’s dredge is already there, its suction arms lowering to starve the channel and trap them. Maris boards the dredge via a tow-line in heavy spray, aiming for the pump controls and the filing office cabin welded to the deck.",
      "stop": "Maris reaches the pump manifold and finds the master ledger chained to it—wired so that opening the book triggers a pressure blowout."
    },
    {
      "ch": "6",
      "title": "Water Schedule for the Living",
      "synopsis": "Maris chooses damage over caution: she forces the chain, takes the scalding burst across her forearm, and shoves the ledger to Selene to run. Ivo reroutes a relief valve with a wrench and a strip of belt, buying seconds while Maris climbs to the pneumatic horn stack. Instead of reading names, Maris broadcasts the simple proof: Vex’s permit seal paired with the altered pump timings, then blows the horn codes so every dock can repeat it. Vex tries to reassert control by ordering the harbor patrol to arrest her under contract law, but the patrol hesitates when dock crews begin cutting Vex’s fuel lines and opening side channels on their own. Selene pays Maris in water chits and leaves before gratitude can become a hook; Ivo offers a seat on his salvage rig, no promises. Maris burns her own payoff by tossing the remaining chits into the river office furnace, making the point unbuyable, then slips into the fog with an injured arm and a new price on her head.",
      "stop": "As Maris poles into a side channel, a buoy lamp flashes a private signal—someone unknown has her route-sense, and they’re already waiting."
    }
  ]
};

        // Initialize UI
        if(data.project_metadata) {
            document.getElementById('title').textContent = data.project_metadata.project_name || 'Untitled';
            document.getElementById('logline').textContent = data.project_metadata.logline || '';
            document.getElementById('genre').textContent = data.project_metadata.genre || 'Unknown Genre';
            document.getElementById('pacing').textContent = data.project_metadata.pacing_style || '';
        }
        
        if(data.global_system_directive) {
            document.getElementById('global-directive').textContent = data.global_system_directive;
        }
        
        if(data.structural_directives) {
            if(data.structural_directives.pulp_density_protocol) {
                 document.getElementById('rule-of-rust').textContent = data.structural_directives.pulp_density_protocol.the_rule_of_rust || '';
            }
            document.getElementById('internal-pulse').textContent = data.structural_directives.the_internal_pulse || '';
        }
        
        if(data.humanization_protocol) {
            document.getElementById('humanization-note').textContent = data.humanization_protocol.emotional_suppression || '';
        }
        
        document.getElementById('timestamp').textContent = new Date().toLocaleString();

        // Render Ratios
        const ratiosContainer = document.getElementById('ratios');
        const renderRatio = (title, ratioStr, color) => {
            if(!ratioStr) return;
            // Handle different separators if necessary, assuming " / " based on template
            // Also handle if ratioStr format is different from "25% Label / ..."
            try {
                const parts = ratioStr.split(' / ').map(p => {
                    const [val, label] = p.split('% ');
                    return { val: parseInt(val), label: label || '?' };
                });

                if(parts.length < 3) {
                     // Fill with dummy if needed or handle gracefully
                }
                
                // Safe access to parts indices
                const p0 = parts[0] || {val: 0, label: '-'};
                const p1 = parts[1] || {val: 0, label: '-'};
                const p2 = parts[2] || {val: 0, label: '-'};

                const html = `
                    <div class="space-y-2">
                        <div class="flex justify-between text-xs font-bold uppercase opacity-60">
                            <span>${title}</span>
                        </div>
                        <div class="h-3 w-full bg-white/5 rounded-full overflow-hidden flex">
                            <div style="width: ${p0.val}%" class="bg-blue-500 h-full border-r border-black/20" title="${p0.label}: ${p0.val}%"></div>
                            <div style="width: ${p1.val}%" class="bg-orange-500 h-full border-r border-black/20" title="${p1.label}: ${p1.val}%"></div>
                            <div style="width: ${p2.val}%" class="bg-emerald-500 h-full" title="${p2.label}: ${p2.val}%"></div>
                        </div>
                        <div class="flex gap-4 text-[10px] mono uppercase opacity-80">
                            <span class="flex items-center gap-1"><div class="w-2 h-2 bg-blue-500"></div> ${p0.label}</span>
                            <span class="flex items-center gap-1"><div class="w-2 h-2 bg-orange-500"></div> ${p1.label}</span>
                            <span class="flex items-center gap-1"><div class="w-2 h-2 bg-emerald-500"></div> ${p2.label}</span>
                        </div>
                    </div>
                `;
                ratiosContainer.innerHTML += html;
            } catch(e) {
                console.warn("Error rendering ratio:", e);
            }
        };

        if(data.structural_directives) {
            if(data.structural_directives.pulp_density_protocol) {
                renderRatio("Pulp Density Protocol", data.structural_directives.pulp_density_protocol.narrative_ratio);
            }
            if(data.structural_directives.heat_index_protocol) {
                renderRatio("Heat Index Protocol", data.structural_directives.heat_index_protocol.narrative_ratio);
            }
        }

        // Banned Words
        const bannedContainer = document.getElementById('banned-words');
        if(data.humanization_protocol && data.humanization_protocol.banned_word_list) {
            data.humanization_protocol.banned_word_list.forEach(word => {
                const span = document.createElement('span');
                span.className = 'px-2 py-1 bg-red-950/30 text-red-400 border border-red-900/50 rounded text-[10px] mono uppercase';
                span.textContent = word;
                bannedContainer.appendChild(span);
            });
        }

        // Characters
        const charContainer = document.getElementById('characters');
        if(data.character_profiles) {
            Object.entries(data.character_profiles).forEach(([key, char]) => {
                const isProtagonist = key === 'protagonist_narrator';
                const html = `
                    <div class="glass p-4 rounded-xl ${isProtagonist ? 'rust-border' : 'ocean-border'}">
                        <div class="text-[10px] mono text-[var(--text-muted)] mb-1 uppercase">${key.replace('_', ' ')}</div>
                        <div class="text-lg font-bold text-[var(--text-main)]">${char.name || 'Unnamed'}</div>
                        <div class="text-xs text-orange-400 font-bold mb-2">${char.role || 'Key Figure'}</div>
                        <div class="text-xs text-[var(--text-muted)] leading-relaxed mb-3">"${char.voice || ''}"</div>
                        <div class="bg-white/5 p-2 rounded text-[11px] border border-white/10 italic">
                            <span class="text-blue-400 font-bold uppercase mr-1">Signature:</span> ${char.super_power || ''}
                        </div>
                    </div>
                `;
                charContainer.innerHTML += html;
            });
        }

        // Chapters
        const chapterContainer = document.getElementById('plot-timeline');
        if(data.chapters) {
            data.chapters.forEach(ch => {
                const html = `
                    <div class="chapter-card relative pl-10 pb-8 last:pb-0">
                        <div class="absolute left-2.5 top-0 w-3 h-3 bg-orange-500 rounded-full border-2 border-sea-dark z-10"></div>
                        <div class="glass p-5 rounded-xl border-l-0">
                            <div class="flex justify-between items-center mb-2">
                                <span class="mono text-xs text-orange-500 font-bold">CHAPTER ${ch.ch}</span>
                                <span class="text-xs text-[var(--text-muted)]">Constraint: Active</span>
                            </div>
                            <h4 class="text-xl font-bold mb-2 text-[var(--text-main)] uppercase tracking-tight">${ch.title}</h4>
                            <p class="text-[var(--text-muted)] text-sm leading-relaxed mb-4">${ch.synopsis}</p>
                            <div class="bg-red-500/10 border-l-2 border-red-500 p-3 rounded-r">
                                <div class="text-[10px] mono font-bold text-red-400 uppercase mb-1 flex items-center gap-1">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>
                                    Irreversible Decision / Stop
                                </div>
                                <p class="text-sm text-red-100 italic">"${ch.stop}"</p>
                            </div>
                        </div>
                    </div>
                `;
                chapterContainer.innerHTML += html;
            });
        }

        // Theme Toggle Logic
        const toggleBtn = document.getElementById('theme-toggle');
        const sunIcon = document.getElementById('sun-icon');
        const moonIcon = document.getElementById('moon-icon');
        
        // Load preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'light') {
            document.body.classList.add('light-mode');
        }

        toggleBtn.addEventListener('click', () => {
            const isLight = document.body.classList.toggle('light-mode');
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
        });
    </script>
</body>

</html>

  </article>



  <footer>
   <h1>Fictionally Statement</h1>


<!-- ============================================= -->
    <!-- === NEW CUSTOM AUDIO PLAYER STARTS HERE === -->
    <!-- ============================================= -->
    <div class="custom-audio-player">
      <audio id="audio-element" src="/assets/notice.mp3"></audio>

      <button class="play-pause-btn">
        <svg class="play-icon" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z"/>
        </svg>
        <svg class="pause-icon" viewBox="0 0 24 24">
          <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
        </svg>
      </button>

      <div class="player-controls">
        <div class="progress-bar">
          <div class="progress"></div>
        </div>
        <div class="time-container">
          <span class="current-time">0:00</span> / <span class="total-time">0:00</span>
        </div>
      </div>
    </div>
    <!-- ============================================= -->
    <!-- ===   CUSTOM AUDIO PLAYER ENDS HERE     === -->
    <!-- ============================================= -->

   <p> 2024 Jeff Meridian. All Rights Reserved. Powered by Imagination and a few helpful robots.</p>
  <nav>
    <a href="/impressum/">Impressum</a>
  </nav>
</footer>
    <script src="/assets/js/theme-switcher.js"></script>
  <script src="/assets/js/teleprompter.js"></script>
   <script src="/assets/js/comments.js"></script>
   <script src="/assets/js/audio-player.js"></script>
</main>


</body>
</html>
