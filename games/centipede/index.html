<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Centipede</title><script src="./assets/js/phaser.js"></script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet"></head><style>@font-face{font-family:VT323;src:url('./assets/fonts/VT323.woff2') format('woff2'),url('./assets/fonts/VT323.woff') format('woff'),url('./assets/fonts/VT323.ttf') format('truetype');font-weight:400;font-style:normal}body,html{margin:0;padding:0;display:flex;justify-content:center;align-items:center;height:100vh;background:url('./assets/tiles-page-background.png') no-repeat center center fixed;background-size:cover}#pageContainer{display:flex;flex-direction:row;align-items:center;justify-content:space-around;width:100%;max-width:1200px}#gameContainer{flex:1;max-width:auto;height:850px;background-color:#b8b4b4}#formContainer{flex:1;max-width:200px;height:700px}#formContainer iframe{width:100%;height:100%;border:none;margin-left:330px;margin-top:100px}#inputContainer{display:none;position:absolute;text-align:center;z-index:10}#playerNameInput,#submitBtn{padding:10px;margin-top:115px;font-size:16px}</style><body><div id="pageContainer"><div id="formContainer"></div><div id="gameContainer"></div></div><div id="inputContainer" style="display:none"><input type="text" id="playerNameInput" placeholder="Enter your name"> <button id="submitBtn">Enter</button></div><script>let globalMushroomsData=[];class Scene1 extends Phaser.Scene{constructor(){super("bootGame")}preload(){this.load.image("background","assets/background.png"),this.load.image("logo","assets/logo.png")}create(){document.body.style.cursor="default",console.log("v1.5"),this.fetchHighScores().then(e=>{e.sort((e,t)=>t.score-e.score),this.displayHighScores(e)});const{width:e,height:t}=this.sys.game.config,s=e/2,i=t/2;this.background=this.add.tileSprite(0,0,e,t,"background").setOrigin(0,0).setScrollFactor(0),this.scale.on("resize",e=>{this.background.setSize(e.width,e.height)}),this.background=this.add.tileSprite(0,0,e,t,"background").setOrigin(0,0).setScrollFactor(0),this.scale.on("resize",e=>{this.background.setSize(e.width,e.height)});this.add.image(s,i-130,"logo").setOrigin(.5);this.add.text(s-200,i-400,"CENTIPEDE",{fontFamily:"VT323",fontSize:"80px",color:"#00ff00"});const o=this.add.text(s+10,i+140,"Click to Start ",{fontFamily:"VT323",fontSize:"55px",color:"#00ff00"});o.setOrigin(.5),this.tweens.add({targets:o,scaleX:1.1,scaleY:1,duration:1e3,ease:"Power2",yoyo:!0,repeat:-1}),o.setInteractive({useHandCursor:!0}),o.on("pointerdown",function(){this.clearFormIframe(),this.scene.start("playGame",{score:this.score=0,lives:this.lives=0,wave:this.wave=1,bonus:this.bonus=0,textScore:this.textScore=0,centipedeSegmentSpeed:this.centipedeSegmentSpeed||250})},this)}clearFormIframe(){console.log("form cleared");const e=document.getElementById("formContainer");if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}async fetchHighScores(){try{const e=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vR-AiKffxz0K2seWkfnGcEt0PekMB1NEbI7Iv3BhyAaZu_HmmepebguyWqAp_py0xXG16kEKSt1DqyB/pub?output=csv"),t=await e.text();return this.parseCSV(t)}catch(e){return console.error("Failed to fetch or parse the high scores:",e),[]}}parseCSV(e){return e.trim().split("\n").map(e=>{const t=e.split(",");return{name:t[1].trim(),score:t[2].trim(),wave:t[3].trim()}})}displayHighScores(e){let t=630,s=[];e.forEach(e=>{let{name:t,score:i,wave:o}=e;if("Score"!==i&&"Wave"!==o){try{i=parseInt(atob(i),10),o=parseInt(atob(o),10)}catch(e){console.error("Error decoding score or wave",e),console.log(`Problematic values - Score: ${i}, Wave: ${o}`),i=0,o=0}s.push({name:t,score:i,wave:o})}}),s.sort((e,t)=>t.score-e.score),s.forEach((e,s)=>{const i=`${s+1}. ${e.name} - ${e.score}, Wave: ${e.wave}`;this.add.text(155,t,i,{fontFamily:"VT323",fontSize:"25px",color:"#00ffff"}),t+=30})}}class Scene2 extends Phaser.Scene{constructor(){super("playGame"),this.player,this.centipede,this.bullets,this.mushrooms,this.canShoot=!0,this.lastShotTime=0,this.spider,this.fireRate=100,this.shootSound,this.destroySound,this.gameOverSound,this.mushroomTouchedByPlayerSound,this.score=0,this.lives=4,this.wave=1;this.isPaused=!1,this.crabMushroomTouches=0}init(e){this.score=e.score||0,this.textScore=e.textScore||0,this.lives=e.lives||4,this.wave=e.wave||1,this.centipedeSegmentSpeed=e.centipedeSegmentSpeed}initHeartsDisplay(){const{width:e,height:t}=this.sys.game.config,s=t/2,i=e/2;this.hearts=[];const o=s-420,a=i-270;for(let e=0;e<this.lives;e++){const t=this.add.image(a+50*e,o,"heart").setScale(.5);this.hearts.push(t)}}updateHeartsDisplay(){this.hearts.forEach(e=>e.destroy()),this.hearts=[],this.initHeartsDisplay()}preload(){this.load.audio("backgroundMusic","assets/backgroundMusic.mp3"),this.load.image("background","assets/background4.png"),this.load.image("startButton","assets/startButton.png"),this.load.image("player","assets/player.png"),this.load.image("centipede","assets/centipede.png"),this.load.image("bullet","assets/bullet.png"),this.load.image("mushroom","assets/mushroom1.png"),this.load.image("heart","assets/heart.png"),this.load.audio("shootSound","assets/shoot.mp3"),this.load.audio("destroySound","assets/destroy.mp3"),this.load.audio("gameOverSound","assets/gameover.mp3"),this.load.audio("spiderSound","assets/spiderSound.mp3"),this.load.audio("mushroomTouchedByPlayer","assets/mushroomTouchedByPlayer.mp3"),this.load.audio("crabEatsSound","assets/crabEatsSound.mp3"),this.load.aseprite({key:"crab",textureURL:"assets/crab.png",atlasURL:"assets/crab.json"}),this.load.aseprite({key:"spider",textureURL:"assets/spider1.png",atlasURL:"assets/spider1.json"})}create(){document.body.style.cursor="none",console.log("speed -"),console.log(this.centipedeSegmentSpeed),this.startTime=this.time.now;const{width:e,height:t}=this.sys.game.config,s=e/2,i=t/2;this.background=this.add.tileSprite(0,0,e,t,"background").setOrigin(0,0).setScrollFactor(0),this.scale.on("resize",e=>{this.background.setSize(e.width,e.height)}),this.initHeartsDisplay(),this.backgroundMusic=this.sound.add("backgroundMusic",{volume:.2,loop:!0}),this.input.keyboard.on("keydown-M",()=>{this.backgroundMusic.isPlaying?this.backgroundMusic.pause():this.backgroundMusic.resume()}),this.player=this.physics.add.sprite(200,300,"player").setScale(.5),this.shootSound=this.sound.add("shootSound"),this.destroySound=this.sound.add("destroySound"),this.gameOverSound=this.sound.add("gameOverSound"),this.crabEatsSound=this.sound.add("crabEatsSound"),this.mushroomTouchedByPlayerSound=this.sound.add("mushroomTouchedByPlayer"),this.mushrooms=this.physics.add.staticGroup(),this.createMushroom=function(e,t){const s=this.mushrooms.create(e,t,"mushroom").setScale(.1);s.body.immovable=!0,s.setData("hits",0),this.mushroomTouchedByPlayerSound.play()},this.textScore=this.add.text(s-290,i-400,"0",{fontFamily:"VT323",fontSize:"55px",color:"#00ff00"}),this.textLives=this.lives,this.textLives=this.add.text(-100,-100,`Lives: ${this.textLives}`,{fontFamily:"VT323",fontSize:"24px",color:"#00ff00"}),this.textWave=this.wave,this.textWave=this.add.text(s-390,i-240,`Wave: ${this.textWave}`,{fontFamily:"VT323",fontSize:"24px",color:"#00fff0"}),this.anims.create({key:"walk",frames:this.anims.generateFrameNumbers("spider",{start:0,end:4}),frameRate:15,repeat:-1}),this.spider=this.physics.add.sprite(500,700,"spider").play("walk").setOrigin(.5,.5).setScale(.5).setVelocityX(100),this.spider.y=0,this.spiderSound=this.sound.add("spiderSound",{volume:.2}),this.spiderSound.play(),this.time.addEvent({delay:500,callback:()=>{this.spider&&this.spider.active&&this.createMushroom(this.spider.x,this.spider.y)},loop:!0}),this.centipede=this.physics.add.group(),this.createCentipede(),this.bullets=this.physics.add.group({defaultKey:"bullet",maxSize:1,active:!1,visible:!1}),this.physics.world.setBoundsCollision(!0,!0,!0,!1),this.bullets.children.iterate(e=>{e.on("outofbounds",()=>{e.destroy(),canShoot=!0})}),this.bullets.children.iterate(e=>{e.on("destroy",()=>{canShoot=!0})}),this.mushrooms=this.physics.add.group(),this.mushrooms.children.iterate(e=>{this.mushroom.setScale(.1)}),this.physics.add.collider(this.centipede,this.bullets,this.bulletHitCentipede.bind(this)),this.physics.add.collider(this.bullets,this.mushrooms,this.bulletHitMushroom.bind(this)),this.physics.add.collider(this.bullets,this.spider,this.bulletHitSpider.bind(this)),this.physics.add.overlap(this.centipede,this.mushrooms,this.centipedeHitMushroom.bind(this)),this.physics.add.overlap(this.player,this.centipede,this.playerHitCentipede.bind(this)),this.physics.add.collider(this.player,this.spider,this.playerHitSpider.bind(this)),this.input.on("pointermove",e=>{const t=2*this.game.config.height/3,s=Phaser.Math.Clamp(e.x,0,this.game.config.width),i=Phaser.Math.Clamp(e.y,t,this.game.config.height);let o=!1;this.mushrooms.children.iterate(e=>{const s=Phaser.Math.Distance.Between(this.player.x,this.player.y,e.x,e.y),i=.1*e.width+4;if(s<i){o=!0;const s=Phaser.Math.Angle.Between(this.player.x,this.player.y,e.x,e.y),a=this.player.x+(i-30)*Math.cos(s),h=this.player.y+(i-30)*Math.sin(s);this.player.x=Phaser.Math.Clamp(a,0,game.config.width),this.player.y=Phaser.Math.Clamp(h,t,game.config.height)}}),o||(this.player.x=s,this.player.y=i)}),this.input.on("pointerdown",e=>{if(this.isPointerDown=!0,this.canShoot){const e=this.bullets.get(this.player.x,this.player.y);e&&(e.setActive(!0),e.setVisible(!0),e.body.velocity.y=-300,this.shootSound.play(),this.canShoot=!0)}}),this.createRandomMushrooms(30),this.createCrab()}async restartGame(){this.gameOverSound.play(),console.log("high score"),console.log(this.score);try{const e=await this.fetchHighScores();if(Array.isArray(e)&&e.length>0){let t=-1/0;if(e.forEach((e,s)=>{if(0===s||"Score"===e.score)return;let{score:i}=e;try{let e=parseInt(atob(i),10);!isNaN(e)&&e>t&&(t=e)}catch(e){console.error("Error decoding base64 string:",i,e)}}),console.log(this.score),this.score>t){console.log("New high score!");const e=this.score,t=this.wave;this.showInputField().then(s=>{this.submitToGoogleForm(e,t,s),console.log("High score submitted:",e,s)}).catch(e=>{console.error("Failed to get player name:",e)})}}else console.error("No high scores available or failed to fetch high scores.")}catch(e){console.error("Error in restartGame method:",e)}globalMushroomsData=[],this.lives=4,this.wave=1,this.bonus=0,this.score=0,this.scene.start("bootGame",{score:this.score=0,lives:this.lives=0,wave:this.wave=1,bonus:this.bonus=0,textScore:this.textScore=0})}parseCSV(e){return e.trim().split("\n").map(e=>{const t=e.split(",");return{name:t[1].trim(),score:t[2].trim(),wave:t[3].trim()}})}async fetchHighScores(){try{const e=await fetch("https://docs.google.com/spreadsheets/d/e/2PACX-1vR-AiKffxz0K2seWkfnGcEt0PekMB1NEbI7Iv3BhyAaZu_HmmepebguyWqAp_py0xXG16kEKSt1DqyB/pub?output=csv"),t=await e.text();return this.parseCSV(t)}catch(e){return console.error("Failed to fetch or parse the high scores:",e),[]}}openPrefilledGoogleForm(e,t){const s=e.toString(),i=t.toString(),o=btoa(s),a=btoa(i),h=`https://docs.google.com/forms/d/e/1FAIpQLSdd392qpsZbFhc9rx-bGZTP2zn6J6CWLi_nd9wDd8ePOPa9Zw/viewform?usp=pp_url&entry.141223346=${encodeURIComponent(o)}&entry.1705590754=${encodeURIComponent(a)}`;var r=document.createElement("iframe");r.style.width="640px",r.style.height="780px",r.style.border="none",r.src=h,document.getElementById("formContainer").appendChild(r)}async submitToGoogleForm(e,t,s){const i=s.toString(),o=e.toString(),a=t.toString(),h=btoa(o),r=btoa(a),n=new FormData;n.append("entry.1705590754",r),n.append("entry.141223346",h),n.append("entry.773241883",i);try{await fetch("https://docs.google.com/forms/d/e/1FAIpQLSdd392qpsZbFhc9rx-bGZTP2zn6J6CWLi_nd9wDd8ePOPa9Zw/formResponse",{method:"POST",mode:"no-cors",body:n})}catch(e){console.error("Error submitting form",e)}}showInputField(){return new Promise((e,t)=>{document.getElementById("inputContainer").style.display="block",document.getElementById("playerNameInput").focus(),document.getElementById("submitBtn").onclick=()=>{const s=document.getElementById("playerNameInput").value.trim();s?(document.getElementById("inputContainer").style.display="none",e(s)):(alert("Please enter your name."),t(new Error("No name entered")))}})}fireBullet(){this.bullet=this.bullets.get(this.player.x,this.player.y),this.bullet&&(this.bullet.setActive(!0),this.bullet.setVisible(!0),this.bullet.body.velocity.y=-500,this.shootSound.play())}update(){0===this.lives&&this.restartGame(),this.spider&&this.moveSpider();this.input.activePointer.isDown&&this.fireBullet(),this.centipede.children.iterate(e=>{e.active&&(e.setVelocityX(this.centipedeSegmentSpeed*e.getData("direction")),e.y>=game.config.height-20&&(e.disableBody(!0,!0),this.score=0,this.scoreText="0",this.lives=4,this.wave=1,this.gameOverSound.play(),this.scene.start("bootGame")))}),this.physics.world.wrap(this.bullets,5),this.physics.world.wrap(this.bullets.children,5),this.bullets.children.iterate(e=>{e.active&&(e.y<0||e.y>game.config.height)&&(e.destroy(),this.canShoot=!0)}),this.checkCentipedeCollision(),0===this.centipede.countActive()&&this.nextLevel()}nextLevel(){const e=(this.time.now-this.startTime)/1e3;let t=Math.max(0,Math.round(900*(30-e)));t=Math.max(0,t),this.scene.start("ScoreScene",{score:this.score,lives:this.lives,wave:this.wave,bonusScore:t,centipedeSegmentSpeed:this.centipedeSegmentSpeed})}createCentipede(){for(let e=0;e<8;e++){const t=this.centipede.create(32+40*e,0,"centipede").setActive(!0);t.setData("direction",1),t.setData("hasMovedDown",!1),t.setVelocityX(this.centipedeSegmentSpeed*t.getData("direction"))}}bulletHitCentipede(e,t){const s=this.add.text(e.x+10,e.y+10,"80",{fontFamily:"VT323",fontSize:"20px",color:"#ffff00"}).setOrigin(.5,.5);s.setDepth(1),this.time.delayedCall(400,()=>{s.destroy()}),e.disableBody(!0,!0),t.destroy(),this.destroySound.play(),this.createMushroom(e.x,e.y),globalMushroomsData.push({x:e.x,y:e.y,hits:0}),this.score+=80,this.textScore.setText(""+this.score),this.canShoot=!0}bulletHitMushroom(e,t){let s=t.getData("hits")+1;if(t.setData("hits",s),1===s?t.setTint(16751001):2===s&&t.setTint(16737894),s>=3){const e=globalMushroomsData.findIndex(e=>e.x===t.x&&e.y===t.y);e>-1&&globalMushroomsData.splice(e,1);const s=this.add.text(t.x,t.y,"5",{fontFamily:"VT323",fontSize:"20px",color:"#ffff00"}).setOrigin(.5,.5);s.setDepth(1),this.time.delayedCall(400,()=>{s.destroy()}),t.destroy(),this.destroySound.play(),this.score+=5,this.textScore.setText(""+this.score),this.textLives.setText("Lives: "+this.lives)}e.destroy(),this.canShoot=!0}bulletHitSpider(e,t){const s=this.add.text(t.x,t.y,"200",{fontFamily:"VT323",fontSize:"20px",color:"#ffff00"}).setOrigin(.5,.5);s.setDepth(1),this.time.delayedCall(400,()=>{s.destroy()}),e.destroy(),t.destroy(),this.score+=200,this.bonus+=300,this.textScore.setText(""+this.score),this.textLives.setText("Lives: "+this.lives)}createRandomMushrooms(e){this.wave>1&&globalMushroomsData.length>0&&globalMushroomsData.forEach(e=>{this.createMushroom(e.x,e.y)});let t=0;const s=()=>{if(t<e){const e=Phaser.Math.Between(30,game.config.width-30),i=Phaser.Math.Between(30,game.config.height-30);this.createMushroom(e,i),t++,setTimeout(s,100)}};s()}centipedeHitMushroom(e,t){e.x<game.config.width-20&&e.x>20||(e.y+=15),e.setData("direction",-e.getData("direction")),e.y+=5,e.setData("direction",-e.getData("direction"))}playerHitCentipede(e,t){this.restartGame()}checkCentipedeCollision(){this.centipede.children.iterate(e=>{e.active&&((e.x>=game.config.width-20||e.x<=20)&&!e.getData("hasMovedDown")?(e.y+=15,e.setData("direction",-e.getData("direction")),e.setData("hasMovedDown",!0)):e.x<game.config.width-20&&e.x>20&&e.setData("hasMovedDown",!1))})}playerHitSpider(e,t){this.score-=100,this.lives-=1,this.textLives.setText("Lives: "+this.lives),this.mushroomTouchedByPlayerSound.play(),t.y=0,t.x=Phaser.Math.Between(50,750),this.destroySound.play(),this.updateHeartsDisplay()}createCrab(){this.anims.create({key:"crabWalk",frames:this.anims.generateFrameNumbers("crab",{start:0,end:3}),frameRate:15,repeat:-1}),this.crab=this.physics.add.sprite(-100,2*this.game.config.height/3,"crab").play("crabWalk").setOrigin(.5,.5).setScale(.25);const e=Phaser.Math.Between(0,2e3);this.physics.add.collider(this.bullets,this.crab,this.bulletHitCrab,null,this),this.physics.add.collider(this.crab,this.mushrooms,this.crabHitsMushroom,null,this),this.physics.add.collider(this.crab,this.player,()=>{this.lives-=1,this.textLives.setText("Lives: "+this.lives),this.player.setVelocity(0,0),this.updateHeartsDisplay(),this.destroySound.play()}),this.time.delayedCall(4e3+e,()=>{if(!this.crab||!this.crab.body)return void console.log("Crab does not exist or has been destroyed.");let e=200,t=1;this.crab&&(this.crab.body.velocity.x=e,this.crab.body.velocity.y=e*t,t*=-1,this.time.addEvent({delay:1100,callback:()=>{this.crab&&this.crab.body&&(this.crab.x>this.game.config.width+40?(this.crab.setPosition(-100,2*this.game.config.height/3),this.crab.body.velocity.x=e):(this.crab.body.velocity.y=e*t,t*=-1))},loop:!0}));const s=this.game.config.height-this.crab.displayHeight/2;this.time.addEvent({delay:4e3,callback:()=>{this.crab&&this.crab.body&&(this.crab.body.velocity.x=e*t,t*=1,this.crab.y>s&&(this.crab.y=s))},loop:!0})}),this.time.delayedCall(4e3+Phaser.Math.Between(0,2e3),()=>{if(!this.crab||!this.crab.body)return void console.log("Crab does not exist or has been destroyed.");let e=200,t=1;this.crab&&(this.crab.setPosition(this.game.config.width+100,2*this.game.config.height/3),this.crab.body.velocity.x=-200,this.crab.body.velocity.y=e*t,t*=-1,this.time.addEvent({delay:1e3,callback:()=>{this.crab&&this.crab.body&&(this.crab.x<-40?(this.crab.setPosition(this.game.config.width+100,2*this.game.config.height/3),this.crab.body.velocity.x=-200):(this.crab.body.velocity.y=e*t,t*=-1))},loop:!0}));const s=this.game.config.height-this.crab.displayHeight/2;this.time.addEvent({delay:4e3,callback:()=>{this.crab&&this.crab.body&&(this.crab.body.velocity.x=-Math.abs(e),this.crab.y>s&&(this.crab.y=s))},loop:!0})})}crabHitsMushroom(e,t){if(this.crabMushroomTouches=++this.crabMushroomTouches,this.crabMushroomTouches%2==0){this.sound.play("crabEatsSound");const e=globalMushroomsData.findIndex(e=>e.x===t.x&&e.y===t.y);e>-1&&globalMushroomsData.splice(e,1),t.destroy()}}moveSpider(){if(this.spider&&this.spider.active){this.spider.setVelocityX(0);const e=2.5;this.spider.y+=e,this.spider.y>900&&(this.spider.y=0,this.spiderSound=this.sound.add("spiderSound",{volume:.2}),this.spiderSound.play(),this.spider.x=Phaser.Math.Between(10,600))}}bulletHitCrab(e,t){const s=this.add.text(t.x,t.y,"300",{fontFamily:"VT323",fontSize:"20px",color:"#ffff00"}).setOrigin(.5,.5);s.setDepth(1),this.time.delayedCall(400,()=>{s.destroy()}),e.destroy(),t.destroy(),this.score+=300,this.bonus+=400,this.textScore.setText(`${this.score}`),this.sound.play("destroySound"),this.time.addEvent({delay:4e3,callback:()=>{this.createCrab()}})}}class ScoreScene extends Phaser.Scene{constructor(){super("ScoreScene")}init(e){this.score=e.score,this.lives=e.lives,this.wave=e.wave,this.bonusScore=e.bonusScore||0,this.centipedeSegmentSpeed=e.centipedeSegmentSpeed}preload(){this.load.audio("tickSound","assets/tick.mp3"),this.load.audio("totalSound","assets/total.mp3"),this.load.image("heart","assets/heart.png")}create(){document.body.style.cursor="default",console.log(this.centipedeSegmentSpeed);const{width:e,height:t}=this.sys.game.config,s=e/2,i=t/2;this.add.tileSprite(0,0,e,t,"background").setOrigin(0);const o=s-270,a=i-420;for(let e=0;e<this.lives;e++)this.add.image(o+40*e,a,"heart").setScale(.5);let h=0,r=0;var n=this.bonusScore+this.score;this.add.text(s,i-250,`Wave ${this.wave}`,{fontFamily:"VT323",fontSize:"100px",color:"#ffffff"}).setOrigin(.5);const c=this.add.text(s,i-130,`Score ${h}`,{fontFamily:"VT323",fontSize:"100px",color:"#ffffff"}).setOrigin(.5),d=this.add.text(s,i-50,`Score: ${r}`,{fontFamily:"VT323",fontSize:"100px",color:"#ffffff"}).setOrigin(.5);this.add.text(s+110,i-250,"",{fontFamily:"VT323",fontSize:"100px",color:"#ffffff"}).setOrigin(.5);const l=this.sound.add("tickSound"),p=this.sound.add("totalSound"),y=()=>{if(r++,r+=50,d.setText(`Score: ${r}`),l.play(),r<this.displayTotal)this.time.delayedCall(80,y);else{r=n,d.setText(`Score: ${r}`),l.play(),p.play();const e=this.add.text(s,i+150,"Continue",{fontFamily:"VT323",fontSize:"50px",color:"#00ff00"}).setOrigin(.5).setInteractive({useHandCursor:!0});this.centipedeSegmentSpeed<=360&&(this.centipedeSegmentSpeed=1.01*this.centipedeSegmentSpeed),e.on("pointerdown",()=>{this.score=n,this.scene.start("playGame",{score:n,lives:this.lives,wave:this.wave+1,centipedeSegmentSpeed:this.centipedeSegmentSpeed})})}},u=()=>{h++,h+=50,c.setText(`Bonus: ${h}`),l.play(),h<this.bonusScore?this.time.delayedCall(80,u):y()};u()}}const gameConfig={type:Phaser.AUTO,width:600,height:900,parent:"gameContainer",physics:{default:"arcade",arcade:{gravity:{y:0},debug:!1}},scene:[Scene1,Scene2,ScoreScene],scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:600,height:900}};let game=new Phaser.Game(gameConfig)</script></body></html>